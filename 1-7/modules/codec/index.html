<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>th2-codec | th2 docs</title><meta name="gridsome:hash" content="094bd11c47addc7a75754836813fb86dc88e454d"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="viewport" content="width=device-width, initial-scale=1"><meta data-vue-tag="ssr" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" hid="description" name="description" content="Documentation for th2 - the next-generation test automation framework for financial markets"><meta data-vue-tag="ssr" hid="keywords" name="keywords" content="Exactpro, th2, test automation, financial technologies, microservices, kubernetes, k8s"><meta data-vue-tag="ssr" hid="og:site_name" name="og:site_name" content="th2 documentation"><meta data-vue-tag="ssr" hid="og:type" name="og:type" content="website"><meta data-vue-tag="ssr" hid="og:title" name="og:title" content="th2 docs"><meta data-vue-tag="ssr" hid="og:description" name="og:description" content="Documentation for th2 - the next-generation test automation framework for financial markets"><meta data-vue-tag="ssr" hid="og:image" name="og:image" content="https://th2.dev/og-image.png"><meta data-vue-tag="ssr" hid="robot" name="robot" content="none"><meta data-vue-tag="ssr" hid="og:title" name="og:title" content="th2-codec"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.e540bc2f3d52bc007f88118187e3f363.png"><link data-vue-tag="ssr" rel="stylesheet" href="/css/materialdesignicons.min.css"><link data-vue-tag="ssr" rel="stylesheet" href="/css/roboto.css"><link data-vue-tag="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-vue-tag="ssr" rel="stylesheet" href="/css/lightTheme.css"><link rel="preload" href="/assets/css/0.styles.3bd14d4a.css" as="style"><link rel="preload" href="/assets/js/app.165e8820.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--documentation-vue.86417b59.js" as="script"><link rel="preload" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--codec--index-md.df0691d2.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules--gridsome--app--pages--404-vue.5c129d40.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.4b251a8f.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.dc009298.js"><link rel="prefetch" href="/assets/js/page--src--templates--dashboard-vue.7caee5d8.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--dashboard-vue.cd37e2e0.js"><link rel="prefetch" href="/assets/js/vendors~page--src--templates--documentation-vue.0f2d32f2.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--cookbook--chain-verification--index-md.1bdc3400.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--cookbook--index-md.b50f1d36.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--cookbook--quick-setup-md.c212db59.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--core--index-md.00f2c0d0.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--core--th-2-estore-md.d50acb68.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--core--th-2-mstore-md.b008c4ed.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--fundamentals--architecture-md.3fb6cd24.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--fundamentals--index-md.77d2afb1.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--fundamentals--key-concepts-md.9fabb9d5.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--fundamentals--script--index-md.b434ae67.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--fundamentals--th-2-net-on-github-md.bdbaa2a6.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--create-th-2-env-md.ffd13608.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--index-md.9ac04505.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--install-th-2--1-base-system-md.ecec6a3b.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--install-th-2--2-infra-schema-md.24fa1c91.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--install-th-2--3-th-2-md.0d56591e.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--install-th-2--index-md.4f19d920.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--requirements--hardware-md.28747a5a.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--requirements--index-md.478d6ebf.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--requirements--os-and-network-md.1702f21e.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--getting-started--requirements--software-md.1bbfc6dc.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--index-md.592249eb.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--index-md.e9e305b4.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--infra-components--index-md.b85e9708.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--infra-components--th-2-infra-mgr-md.9911367d.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--infra-components--th-2-infra-operator-md.5373216a.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--th-2-infra-repository-md.b420bfc3.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--th-2-infra-schema--links-md.c860257f.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--th-2-infra-schema--pins-md.279bcfac.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--infrastructure--th-2-infra-schema-md.99bc8381.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--check-1--checkpoints-md.b5154f99.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--check-1--communication-md.cbff0a0f.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--check-1--configuration-md.437ed915.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--check-1--index-md.31bdff7f.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--check-1--rulerequests-md.eaf698a4.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--check-1--verification-rulerequests-md.9102f126.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--check-2-recon--index-md.e200aaf4.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--conn--index-md.1508413b.js"><link rel="prefetch" href="/assets/js/vue-remark--content--docs--versions--1-7--modules--index-md.63a9ef7c.js"><link rel="stylesheet" href="/assets/css/0.styles.3bd14d4a.css"><style data-vue-tag="vuetify" type="text/css" id="vuetify-theme-stylesheet" nonce="undefined">.v-application a { color: #3f979f; }
.v-application .primary {
  background-color: #3f979f !important;
  border-color: #3f979f !important;
}
.v-application .primary--text {
  color: #3f979f !important;
  caret-color: #3f979f !important;
}
.v-application .primary.lighten-5 {
  background-color: #cfffff !important;
  border-color: #cfffff !important;
}
.v-application .primary--text.text--lighten-5 {
  color: #cfffff !important;
  caret-color: #cfffff !important;
}
.v-application .primary.lighten-4 {
  background-color: #b2ffff !important;
  border-color: #b2ffff !important;
}
.v-application .primary--text.text--lighten-4 {
  color: #b2ffff !important;
  caret-color: #b2ffff !important;
}
.v-application .primary.lighten-3 {
  background-color: #95eaf2 !important;
  border-color: #95eaf2 !important;
}
.v-application .primary--text.text--lighten-3 {
  color: #95eaf2 !important;
  caret-color: #95eaf2 !important;
}
.v-application .primary.lighten-2 {
  background-color: #79ced6 !important;
  border-color: #79ced6 !important;
}
.v-application .primary--text.text--lighten-2 {
  color: #79ced6 !important;
  caret-color: #79ced6 !important;
}
.v-application .primary.lighten-1 {
  background-color: #5cb2ba !important;
  border-color: #5cb2ba !important;
}
.v-application .primary--text.text--lighten-1 {
  color: #5cb2ba !important;
  caret-color: #5cb2ba !important;
}
.v-application .primary.darken-1 {
  background-color: #1d7d85 !important;
  border-color: #1d7d85 !important;
}
.v-application .primary--text.text--darken-1 {
  color: #1d7d85 !important;
  caret-color: #1d7d85 !important;
}
.v-application .primary.darken-2 {
  background-color: #00646c !important;
  border-color: #00646c !important;
}
.v-application .primary--text.text--darken-2 {
  color: #00646c !important;
  caret-color: #00646c !important;
}
.v-application .primary.darken-3 {
  background-color: #004c53 !important;
  border-color: #004c53 !important;
}
.v-application .primary--text.text--darken-3 {
  color: #004c53 !important;
  caret-color: #004c53 !important;
}
.v-application .primary.darken-4 {
  background-color: #00343c !important;
  border-color: #00343c !important;
}
.v-application .primary--text.text--darken-4 {
  color: #00343c !important;
  caret-color: #00343c !important;
}
.v-application .secondary {
  background-color: #1e2736 !important;
  border-color: #1e2736 !important;
}
.v-application .secondary--text {
  color: #1e2736 !important;
  caret-color: #1e2736 !important;
}
.v-application .secondary.lighten-5 {
  background-color: #969fb2 !important;
  border-color: #969fb2 !important;
}
.v-application .secondary--text.text--lighten-5 {
  color: #969fb2 !important;
  caret-color: #969fb2 !important;
}
.v-application .secondary.lighten-4 {
  background-color: #7c8598 !important;
  border-color: #7c8598 !important;
}
.v-application .secondary--text.text--lighten-4 {
  color: #7c8598 !important;
  caret-color: #7c8598 !important;
}
.v-application .secondary.lighten-3 {
  background-color: #636c7e !important;
  border-color: #636c7e !important;
}
.v-application .secondary--text.text--lighten-3 {
  color: #636c7e !important;
  caret-color: #636c7e !important;
}
.v-application .secondary.lighten-2 {
  background-color: #4b5465 !important;
  border-color: #4b5465 !important;
}
.v-application .secondary--text.text--lighten-2 {
  color: #4b5465 !important;
  caret-color: #4b5465 !important;
}
.v-application .secondary.lighten-1 {
  background-color: #343d4d !important;
  border-color: #343d4d !important;
}
.v-application .secondary--text.text--lighten-1 {
  color: #343d4d !important;
  caret-color: #343d4d !important;
}
.v-application .secondary.darken-1 {
  background-color: #081221 !important;
  border-color: #081221 !important;
}
.v-application .secondary--text.text--darken-1 {
  color: #081221 !important;
  caret-color: #081221 !important;
}
.v-application .secondary.darken-2 {
  background-color: #00000a !important;
  border-color: #00000a !important;
}
.v-application .secondary--text.text--darken-2 {
  color: #00000a !important;
  caret-color: #00000a !important;
}
.v-application .secondary.darken-3 {
  background-color: #000000 !important;
  border-color: #000000 !important;
}
.v-application .secondary--text.text--darken-3 {
  color: #000000 !important;
  caret-color: #000000 !important;
}
.v-application .secondary.darken-4 {
  background-color: #000000 !important;
  border-color: #000000 !important;
}
.v-application .secondary--text.text--darken-4 {
  color: #000000 !important;
  caret-color: #000000 !important;
}
.v-application .accent {
  background-color: #616161 !important;
  border-color: #616161 !important;
}
.v-application .accent--text {
  color: #616161 !important;
  caret-color: #616161 !important;
}
.v-application .accent.lighten-5 {
  background-color: #e6e6e6 !important;
  border-color: #e6e6e6 !important;
}
.v-application .accent--text.text--lighten-5 {
  color: #e6e6e6 !important;
  caret-color: #e6e6e6 !important;
}
.v-application .accent.lighten-4 {
  background-color: #c9c9c9 !important;
  border-color: #c9c9c9 !important;
}
.v-application .accent--text.text--lighten-4 {
  color: #c9c9c9 !important;
  caret-color: #c9c9c9 !important;
}
.v-application .accent.lighten-3 {
  background-color: #aeaeae !important;
  border-color: #aeaeae !important;
}
.v-application .accent--text.text--lighten-3 {
  color: #aeaeae !important;
  caret-color: #aeaeae !important;
}
.v-application .accent.lighten-2 {
  background-color: #949494 !important;
  border-color: #949494 !important;
}
.v-application .accent--text.text--lighten-2 {
  color: #949494 !important;
  caret-color: #949494 !important;
}
.v-application .accent.lighten-1 {
  background-color: #7a7a7a !important;
  border-color: #7a7a7a !important;
}
.v-application .accent--text.text--lighten-1 {
  color: #7a7a7a !important;
  caret-color: #7a7a7a !important;
}
.v-application .accent.darken-1 {
  background-color: #494949 !important;
  border-color: #494949 !important;
}
.v-application .accent--text.text--darken-1 {
  color: #494949 !important;
  caret-color: #494949 !important;
}
.v-application .accent.darken-2 {
  background-color: #333333 !important;
  border-color: #333333 !important;
}
.v-application .accent--text.text--darken-2 {
  color: #333333 !important;
  caret-color: #333333 !important;
}
.v-application .accent.darken-3 {
  background-color: #1e1e1e !important;
  border-color: #1e1e1e !important;
}
.v-application .accent--text.text--darken-3 {
  color: #1e1e1e !important;
  caret-color: #1e1e1e !important;
}
.v-application .accent.darken-4 {
  background-color: #040404 !important;
  border-color: #040404 !important;
}
.v-application .accent--text.text--darken-4 {
  color: #040404 !important;
  caret-color: #040404 !important;
}
.v-application .error {
  background-color: #b64c4c !important;
  border-color: #b64c4c !important;
}
.v-application .error--text {
  color: #b64c4c !important;
  caret-color: #b64c4c !important;
}
.v-application .error.lighten-5 {
  background-color: #ffd4cd !important;
  border-color: #ffd4cd !important;
}
.v-application .error--text.text--lighten-5 {
  color: #ffd4cd !important;
  caret-color: #ffd4cd !important;
}
.v-application .error.lighten-4 {
  background-color: #ffb7b1 !important;
  border-color: #ffb7b1 !important;
}
.v-application .error--text.text--lighten-4 {
  color: #ffb7b1 !important;
  caret-color: #ffb7b1 !important;
}
.v-application .error.lighten-3 {
  background-color: #ff9c97 !important;
  border-color: #ff9c97 !important;
}
.v-application .error--text.text--lighten-3 {
  color: #ff9c97 !important;
  caret-color: #ff9c97 !important;
}
.v-application .error.lighten-2 {
  background-color: #f2817d !important;
  border-color: #f2817d !important;
}
.v-application .error--text.text--lighten-2 {
  color: #f2817d !important;
  caret-color: #f2817d !important;
}
.v-application .error.lighten-1 {
  background-color: #d46664 !important;
  border-color: #d46664 !important;
}
.v-application .error--text.text--lighten-1 {
  color: #d46664 !important;
  caret-color: #d46664 !important;
}
.v-application .error.darken-1 {
  background-color: #993235 !important;
  border-color: #993235 !important;
}
.v-application .error--text.text--darken-1 {
  color: #993235 !important;
  caret-color: #993235 !important;
}
.v-application .error.darken-2 {
  background-color: #7c1520 !important;
  border-color: #7c1520 !important;
}
.v-application .error--text.text--darken-2 {
  color: #7c1520 !important;
  caret-color: #7c1520 !important;
}
.v-application .error.darken-3 {
  background-color: #5f000a !important;
  border-color: #5f000a !important;
}
.v-application .error--text.text--darken-3 {
  color: #5f000a !important;
  caret-color: #5f000a !important;
}
.v-application .error.darken-4 {
  background-color: #450000 !important;
  border-color: #450000 !important;
}
.v-application .error--text.text--darken-4 {
  color: #450000 !important;
  caret-color: #450000 !important;
}
.v-application .info {
  background-color: #5293c9 !important;
  border-color: #5293c9 !important;
}
.v-application .info--text {
  color: #5293c9 !important;
  caret-color: #5293c9 !important;
}
.v-application .info.lighten-5 {
  background-color: #e4ffff !important;
  border-color: #e4ffff !important;
}
.v-application .info--text.text--lighten-5 {
  color: #e4ffff !important;
  caret-color: #e4ffff !important;
}
.v-application .info.lighten-4 {
  background-color: #c6ffff !important;
  border-color: #c6ffff !important;
}
.v-application .info--text.text--lighten-4 {
  color: #c6ffff !important;
  caret-color: #c6ffff !important;
}
.v-application .info.lighten-3 {
  background-color: #a9e5ff !important;
  border-color: #a9e5ff !important;
}
.v-application .info--text.text--lighten-3 {
  color: #a9e5ff !important;
  caret-color: #a9e5ff !important;
}
.v-application .info.lighten-2 {
  background-color: #8cc9ff !important;
  border-color: #8cc9ff !important;
}
.v-application .info--text.text--lighten-2 {
  color: #8cc9ff !important;
  caret-color: #8cc9ff !important;
}
.v-application .info.lighten-1 {
  background-color: #6faee5 !important;
  border-color: #6faee5 !important;
}
.v-application .info--text.text--lighten-1 {
  color: #6faee5 !important;
  caret-color: #6faee5 !important;
}
.v-application .info.darken-1 {
  background-color: #3279ad !important;
  border-color: #3279ad !important;
}
.v-application .info--text.text--darken-1 {
  color: #3279ad !important;
  caret-color: #3279ad !important;
}
.v-application .info.darken-2 {
  background-color: #006193 !important;
  border-color: #006193 !important;
}
.v-application .info--text.text--darken-2 {
  color: #006193 !important;
  caret-color: #006193 !important;
}
.v-application .info.darken-3 {
  background-color: #004979 !important;
  border-color: #004979 !important;
}
.v-application .info--text.text--darken-3 {
  color: #004979 !important;
  caret-color: #004979 !important;
}
.v-application .info.darken-4 {
  background-color: #003360 !important;
  border-color: #003360 !important;
}
.v-application .info--text.text--darken-4 {
  color: #003360 !important;
  caret-color: #003360 !important;
}
.v-application .success {
  background-color: #00e676 !important;
  border-color: #00e676 !important;
}
.v-application .success--text {
  color: #00e676 !important;
  caret-color: #00e676 !important;
}
.v-application .success.lighten-5 {
  background-color: #ceffff !important;
  border-color: #ceffff !important;
}
.v-application .success--text.text--lighten-5 {
  color: #ceffff !important;
  caret-color: #ceffff !important;
}
.v-application .success.lighten-4 {
  background-color: #afffe4 !important;
  border-color: #afffe4 !important;
}
.v-application .success--text.text--lighten-4 {
  color: #afffe4 !important;
  caret-color: #afffe4 !important;
}
.v-application .success.lighten-3 {
  background-color: #8fffc8 !important;
  border-color: #8fffc8 !important;
}
.v-application .success--text.text--lighten-3 {
  color: #8fffc8 !important;
  caret-color: #8fffc8 !important;
}
.v-application .success.lighten-2 {
  background-color: #6dffac !important;
  border-color: #6dffac !important;
}
.v-application .success--text.text--lighten-2 {
  color: #6dffac !important;
  caret-color: #6dffac !important;
}
.v-application .success.lighten-1 {
  background-color: #47ff91 !important;
  border-color: #47ff91 !important;
}
.v-application .success--text.text--lighten-1 {
  color: #47ff91 !important;
  caret-color: #47ff91 !important;
}
.v-application .success.darken-1 {
  background-color: #00c95c !important;
  border-color: #00c95c !important;
}
.v-application .success--text.text--darken-1 {
  color: #00c95c !important;
  caret-color: #00c95c !important;
}
.v-application .success.darken-2 {
  background-color: #00ad43 !important;
  border-color: #00ad43 !important;
}
.v-application .success--text.text--darken-2 {
  color: #00ad43 !important;
  caret-color: #00ad43 !important;
}
.v-application .success.darken-3 {
  background-color: #009129 !important;
  border-color: #009129 !important;
}
.v-application .success--text.text--darken-3 {
  color: #009129 !important;
  caret-color: #009129 !important;
}
.v-application .success.darken-4 {
  background-color: #00760d !important;
  border-color: #00760d !important;
}
.v-application .success--text.text--darken-4 {
  color: #00760d !important;
  caret-color: #00760d !important;
}
.v-application .warning {
  background-color: #ffc107 !important;
  border-color: #ffc107 !important;
}
.v-application .warning--text {
  color: #ffc107 !important;
  caret-color: #ffc107 !important;
}
.v-application .warning.lighten-5 {
  background-color: #ffffae !important;
  border-color: #ffffae !important;
}
.v-application .warning--text.text--lighten-5 {
  color: #ffffae !important;
  caret-color: #ffffae !important;
}
.v-application .warning.lighten-4 {
  background-color: #ffff91 !important;
  border-color: #ffff91 !important;
}
.v-application .warning--text.text--lighten-4 {
  color: #ffff91 !important;
  caret-color: #ffff91 !important;
}
.v-application .warning.lighten-3 {
  background-color: #ffff74 !important;
  border-color: #ffff74 !important;
}
.v-application .warning--text.text--lighten-3 {
  color: #ffff74 !important;
  caret-color: #ffff74 !important;
}
.v-application .warning.lighten-2 {
  background-color: #fff956 !important;
  border-color: #fff956 !important;
}
.v-application .warning--text.text--lighten-2 {
  color: #fff956 !important;
  caret-color: #fff956 !important;
}
.v-application .warning.lighten-1 {
  background-color: #ffdd37 !important;
  border-color: #ffdd37 !important;
}
.v-application .warning--text.text--lighten-1 {
  color: #ffdd37 !important;
  caret-color: #ffdd37 !important;
}
.v-application .warning.darken-1 {
  background-color: #e0a600 !important;
  border-color: #e0a600 !important;
}
.v-application .warning--text.text--darken-1 {
  color: #e0a600 !important;
  caret-color: #e0a600 !important;
}
.v-application .warning.darken-2 {
  background-color: #c18c00 !important;
  border-color: #c18c00 !important;
}
.v-application .warning--text.text--darken-2 {
  color: #c18c00 !important;
  caret-color: #c18c00 !important;
}
.v-application .warning.darken-3 {
  background-color: #a27300 !important;
  border-color: #a27300 !important;
}
.v-application .warning--text.text--darken-3 {
  color: #a27300 !important;
  caret-color: #a27300 !important;
}
.v-application .warning.darken-4 {
  background-color: #855a00 !important;
  border-color: #855a00 !important;
}
.v-application .warning--text.text--darken-4 {
  color: #855a00 !important;
  caret-color: #855a00 !important;
}</style><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-app="true" data-server-rendered="true" id="app" id="app" class="v-application v-application--is-ltr theme--light"><div class="v-application--wrap"><div data-v-7b23e68f><header class="top-layout v-sheet theme--light v-toolbar v-app-bar v-app-bar--fixed secondary" style="height:56px;margin-top:0px;transform:translateY(0px);left:0px;right:0px;" data-v-7b23e68f><div class="v-toolbar__content" style="height:56px;"><div class="header-container" data-v-7b23e68f><a href="/" class="logo-container active" data-v-7b23e68f><img src="/assets/img/Th2Logo_full_white.37da6040.png" data-v-7b23e68f></a><div class="search-container" data-v-e54dafa2 data-v-7b23e68f><button class="search-btn" data-v-e54dafa2><i aria-hidden="true" class="v-icon notranslate mdi mdi-magnify theme--dark" data-v-e54dafa2></i><span data-v-e54dafa2>
    Search
  </span></button><div class="v-dialog__container" data-v-e54dafa2><!----></div></div><div class="header-btns" data-v-7b23e68f><a href="https://github.com/th2-net/th2-docs" target="_blank" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default" data-v-7b23e68f><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-github theme--dark" data-v-7b23e68f></i></span></a><button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default" data-v-a8cf542a data-v-7b23e68f><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-brightness-5 theme--dark" data-v-a8cf542a></i></span></button><button type="button" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default" data-v-7b23e68f><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-menu theme--dark" data-v-7b23e68f></i></span></button></div></div></div></header><aside class="layout__aside--left--sm pt-16 px-5 v-navigation-drawer v-navigation-drawer--close v-navigation-drawer--fixed v-navigation-drawer--is-mobile theme--light" style="height:100%;top:0px;transform:translateX(-100%);width:90vw;min-width:300px;" data-v-7b23e68f><div class="v-navigation-drawer__content"><aside class="pt-5 content-tree-panel pl-3" data-v-031b6544 data-v-7b23e68f><div class="sticky-tree px-3 ml-n3" data-v-031b6544><h3 class="mb-3" data-v-031b6544>Content</h3><div class="v-input my-3 v-input--is-label-active v-input--is-dirty v-input--dense theme--light v-text-field v-text-field--enclosed v-text-field--outlined v-select" data-v-031b6544><div class="v-input__control"><div role="button" aria-haspopup="listbox" aria-expanded="false" aria-owns="list-5879" class="v-input__slot"><fieldset aria-hidden="true"><legend style="width:0px;"><span class="notranslate">&#8203;</span></legend></fieldset><div class="v-select__slot"><div class="v-select__selections"><div class="v-select__selection v-select__selection--comma">1.7</div><input id="input-5879" readonly="readonly" type="text" aria-readonly="false" autocomplete="off"></div><div class="v-input__append-inner"><div class="v-input__icon v-input__icon--append"><i aria-hidden="true" class="v-icon notranslate mdi mdi-menu-down theme--light"></i></div></div><input type="hidden" value="1.7"></div><div class="v-menu"><!----></div></div><div class="v-text-field__details"><div class="v-messages theme--light"><div class="v-messages__wrapper"></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544> Home </span></div></a></div><div class="py-2" data-v-031b6544><a href="/1-7/getting-started/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Getting started
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/getting-started/requirements/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								System requirements
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/getting-started/install-th2/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Install th2
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/getting-started/create-th2-env/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Create th2 environment
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/fundamentals/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Fundamentals
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/architecture/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Architecture
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/th2-net-on-github/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-net on GitHub
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/key-concepts/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Key concepts
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/script/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Script
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/infrastructure/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Infrastructure
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/infrastructure/th2-infra-repository/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-infra
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/infrastructure/th2-infra-schema/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-infra-schema
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/infrastructure/infra-components/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-infra components
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/core/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Core
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/core/th2-estore/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-estore
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/core/th2-mstore/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-mstore
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/modules/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Modules
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/conn/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								conn
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/codec/" aria-current="page" class="active--exact active nuxt-link-exact-active" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								codec
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/check1/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								check1
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/check2-recon/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								check2-recon
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/cookbook/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              📖 Cookbook
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/cookbook/quick-setup/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Quick th2 setup
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/cookbook/chain-verification/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Chain Verification
							</div></a></div></div></div></div></div></div></div></aside></div><div class="v-navigation-drawer__border"></div></aside><main class="v-main" style="padding-top:1680px;padding-right:0px;padding-bottom:0px;padding-left:0px;" data-v-7b23e68f><div class="v-main__wrap"><div class="layout--full" data-v-7b23e68f><aside class="pt-5 content-tree-panel layout__aside--left--lg" data-v-031b6544 data-v-7b23e68f><div class="sticky-tree px-3 ml-n3" data-v-031b6544><h3 class="mb-3" data-v-031b6544>Content</h3><div class="v-input my-3 v-input--is-label-active v-input--is-dirty v-input--dense theme--light v-text-field v-text-field--enclosed v-text-field--outlined v-select" data-v-031b6544><div class="v-input__control"><div role="button" aria-haspopup="listbox" aria-expanded="false" aria-owns="list-5941" class="v-input__slot"><fieldset aria-hidden="true"><legend style="width:0px;"><span class="notranslate">&#8203;</span></legend></fieldset><div class="v-select__slot"><div class="v-select__selections"><div class="v-select__selection v-select__selection--comma">1.7</div><input id="input-5941" readonly="readonly" type="text" aria-readonly="false" autocomplete="off"></div><div class="v-input__append-inner"><div class="v-input__icon v-input__icon--append"><i aria-hidden="true" class="v-icon notranslate mdi mdi-menu-down theme--light"></i></div></div><input type="hidden" value="1.7"></div><div class="v-menu"><!----></div></div><div class="v-text-field__details"><div class="v-messages theme--light"><div class="v-messages__wrapper"></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544> Home </span></div></a></div><div class="py-2" data-v-031b6544><a href="/1-7/getting-started/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Getting started
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/getting-started/requirements/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								System requirements
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/getting-started/install-th2/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Install th2
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/getting-started/create-th2-env/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Create th2 environment
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/fundamentals/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Fundamentals
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/architecture/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Architecture
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/th2-net-on-github/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-net on GitHub
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/key-concepts/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Key concepts
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/fundamentals/script/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Script
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/infrastructure/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Infrastructure
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/infrastructure/th2-infra-repository/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-infra
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/infrastructure/th2-infra-schema/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-infra-schema
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/infrastructure/infra-components/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-infra components
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/core/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Core
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/core/th2-estore/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-estore
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/core/th2-mstore/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								th2-mstore
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/modules/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              Modules
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/conn/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								conn
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/codec/" aria-current="page" class="active--exact active nuxt-link-exact-active" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								codec
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node"><div class="v-treeview-node__root"><button type="button" class="v-icon notranslate v-treeview-node__toggle v-icon--link mdi mdi-menu-down theme--light"></button><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/check1/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								check1
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/modules/check2-recon/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								check2-recon
							</div></a></div></div></div></div></div></div><div class="py-2" data-v-031b6544><a href="/1-7/cookbook/" class="main-section" data-v-031b6544><div class="tree__path-name" data-v-031b6544><span data-v-031b6544>
              📖 Cookbook
            </span></div></a><div class="v-treeview ml-n3 v-treeview--dense theme--light" data-v-031b6544><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/cookbook/quick-setup/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Quick th2 setup
							</div></a></div></div></div></div><div aria-expanded="false" class="v-treeview-node v-treeview-node--leaf"><div class="v-treeview-node__root"><div class="v-treeview-node__level"></div><div class="v-treeview-node__content"><div class="v-treeview-node__label"><a href="/1-7/cookbook/chain-verification/" data-v-031b6544><div class="tree__path-name" data-v-031b6544>
								Chain Verification
							</div></a></div></div></div></div></div></div></div></aside><div class="layout__doc-page"><div class="container layout__main space-bottom"><article><!----><!----><div class="doc-article"><h1 id="th2-codec"><a href="#th2-codec" aria-hidden="true">#</a>th2-codec</h1><h2 id="overview"><a href="#overview" aria-hidden="true">#</a>Overview</h2><p>The <strong>codec</strong> is a component responsible for transforming <div class="v-menu"><span role="button" aria-haspopup="true" aria-expanded="false" class="term">messages</span><div role="menu" class="v-menu__content theme--light " style="max-height:auto;min-width:0px;max-width:auto;top:12px;left:0px;transform-origin:top left;z-index:0;display:none;"><div class="v-card v-sheet theme--light" style="min-width:200px;max-width:400px;"><div class="v-card__title">message</div><div class="v-card__text"><div><p>is the unit of transferring data that goes in or out of th2, and circulates inside th2.</p>
</div></div></div></div></div> from human-readable format into a format of a corresponding protocol and vice versa. 
It contains the main logic for encoding and decoding messages. 
The <strong>codec</strong> usually uses <div class="v-menu"><span role="button" aria-haspopup="true" aria-expanded="false" class="term">dictionary</span><div role="menu" class="v-menu__content theme--light " style="max-height:auto;min-width:0px;max-width:auto;top:12px;left:0px;transform-origin:top left;z-index:0;display:none;"><div class="v-card v-sheet theme--light" style="min-width:200px;max-width:400px;"><div class="v-card__title">dictionary</div><div class="v-card__text"><div><p>is an entity which contains descriptions of application level protocol messages used in System Under Test (SUT). Dictionaries have a unified form and provide human-readable format for th2 users. </p>
</div></div></div></div></div> to decode and encode messages. 
Dictionaries contain message structures, fields and values that <strong>codec</strong> can decode. </p><h3 id="encoding"><a href="#encoding" aria-hidden="true">#</a>Encoding</h3><p>During encoding, <strong>codec</strong> replaces each parsed message of the supported protocols in a message group with a raw one, by encoding parsed message content.</p><p>NOTE: <strong>codec</strong> can merge content of subsequent raw messages into a resulting raw message (e.g. when a <strong>codec</strong> encodes only a transport layer and its payload is already encoded).</p><h3 id="decoding"><a href="#decoding" aria-hidden="true">#</a>Decoding</h3><p>During decoding <strong>codec</strong> must replace each raw message in a message group with a parsed one by decoding raw message content. 
If an exception was thrown, all raw messages will be replaced with <code>th2-codec-error</code> parsed messages.</p><p>NOTE: <strong>codec</strong> can replace a raw message with a parsed message followed by several raw messages (e.g. when a <strong>codec</strong> decodes only a transport layer it can produce a parsed message for the transport layer and several raw messages for its payload).</p><p>The schema below describes encoding/decoding processes. </p><p><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 812 415' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-fbca73f72ff513e14ee36c8681eeab63'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-fbca73f72ff513e14ee36c8681eeab63)' width='812' height='415' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAhCAYAAABpwa0hAAAACXBIWXMAAAsSAAALEgHS3X78AAAI2ElEQVRo3t1ZWUxUWRq%2btwrtiN0Ptg/OkoFGjaMoTkxmkjH6MKZjNE7TbeLIi01HO7xg3HAboxlfFGlthHbfdwFFBXewgqIiuMQVFVco3FldUKSgqHvm%2b4/nVN%2b6XbfuLbpNmDnJn3OXs/3r%2bc93lHPnzqmKKEOHDv20X79%2b3WJjYyP1NGDAgMioqCgntYmJiVE6a4mIiOD1oEGD/N969%2b4diXfOg5GvPn36dOGNhgwZ0uPWrVuu58%2bfP3v69GklyC0J36rcbvfTzZs3f0lt9%2b3b5zBbQF5eHq%2bzs7PVmzdvOk%2bfPu1A7bhz546joqLCNlF7rMdRXFxM785Dhw5xJWE9lkKAEhXGGH8uKyvLePbsWY2RJ9AD0KuioqJ/84bEPLMoBw8e/JranjlzxhlqAWj3UbT75MkTWxaApfL1lZSU/MeKJ/CdrgwbNuxT0jx98Pl87Zqm%2bfSEz%2b0o7MCBA1/RwCdPnjS1gPT0dK6p1NTU3rm5uf/auHHjN3v37h2LvmP3799vm6g9%2bo/dsGHD13hPyMjIiKNxCwoKVBsC4OurqqrKEzy1GnkCtdK/Gzdu/KD079%2b/G5kIfRA/qTBBGo1B/2DeUgCmFnD16lXuhGfPnk2hPjU1NezXFJgvEwtdQ%2bPiMSKUAJxOp18ADx48yBIC8Bp5QmnzC4ACBPmFFIBhDX4B5OfncwHU19ebWkB1dTUXzoULFyYLBlq9Xm%2b7GCMsgtX5YPYeGgdxJEMIwGnlBlIAlZWV2YIHr%2bBDz5O5AF6/fs3evHnDmpqayPa5AEhyMEkeA6ZOnUqR0xGMEPx4VHW5XLNoPIzrbWtr08Sk2qtXrzQEVA1zaJhDwxza48ePNVgK/%2bfxePxtITj6Jxf6kwiyXc3mliSt5O7du7nUF/N4aa7GxkaGOdjLly%2b12tpaPm55eXmgADCpr7S0lG3fvp0h2pMQtA9y0djSpUsnYdweKF%2bg/lMQioqOjv4D6r8sXrx4B40HDfpIAB88iTGYJdu5cye5E0MEZkeOHGFbtmyhAMt2795NmmZCEUwIgLTH4FKbMe5n2ILN5vavIS4u7veoR2AHKaW%2bR48ebYfyNFgwQzyh%2bTXsTsEtwEcRo7WVkRW8f/8%2bwAKwFf1TmJhqZX7nz5%2bfLCygTW8BGFt79%2b6d1tLSwrUvidrAfbglCIFLC2gV0TpDP76FC6jCHbkLQNtemrO5uZmhJtLAW/gxAJE5ngbOyckx9UOYPjc/WNFU6oPdxSe135GCdbULAXAXgIuEDIKqqvrjBKwtp0MxQBctg%2b4Cp06dMhXApUuXnKLNZNo6EYhaoOE2aLyNpB6KoCH/M7V/%2b/ZtG5hoprkvX7683E4Q1G%2bDDx8%2bzAlnF6gUjclh23Xk/RAavHoBmJrhhAkTeJ2QkPD5tGnT4pKSkgagjp0xY0bYNH369Fjqj%2be4xMTE39G48%2bbNU%2bwKQG6D4MFj4InIIwSQxgUAU62zMkcEkbE0MAJISC2kpKR8lExw9erVYWWCsL58K54QdDMVHH4%2bwYFoFzKn4vv3758AufQEU3Ldvn27eM2aNX%2bngXft2mVqAVJDM2fOVFasWOHAbqCiVrF4ddWqVbaJ2q9cuVJdtGgRvTvmz5/PA9vWrVsVu4kQErb5WHsZeCg08gTrKEB9ATtEUlhakIeMzl7CWufIkSP51mGDOr0QunbtqujXaYun0aNHK%2bvWrePmhWREycrK8hO9I7tTduzY4fftBQsWdFoBOBwOvwDgsgqO8OSyATzpeUtLS/vQEZGW%2b87/ugVQmT17tv8ZiZc1T1OmTPm/iQEUBI0Zoe2CnSANkfE4DhEH7t27ly8J3/KwXRxFZP4btUMubboLLFu2jNeI/sqePXtUnOdVZI4qzhUq8nHbRO2p//r16/n78uU8D1KOHz9uV1GceUT578BDISiAJ9B%2b8Fl0%2bPDh73iHixcvrrWBCNnKA6ySlY6WTZs22bIAZJBcQceOHUukbNQCEcpU%2bvbt251wM0Mm6JVEeTNlghIRCpUJTpw4UWaEn8EXY5KTk6NmzZoVPXfu3Og5c%2bbYJmqP/tHUH%2b8xkyZN6kHjLly40HYihBwgX/DUYuQJ1OLPBAcPHqxPhS0RoVBngZKSEv7vxIkTydAEq6ioaK6vr/fgdOnBWZwTzuP%2b52DvRNS%2boaHBgwTsHU6KrKysLL0DZwGZCsuzgKbj6eezwMCBA39xGJJncnkapGcIIF6AEs4QcSRCoLH8NPjixQvfr4TEuA1DECvsQGLBToPCijUDT8FPg1LbMAQpBDrDB0BiFniAhMSSg%2bEBEgcQWuBEKJBs41fTz4hQqwESs4MHSEgsSy8APU8BAujVq1dkbW2tG4tjSBB8IFZQUMDRE5AGbXKxpaamEiL0uQUi9EdChNB2ezBEqLy8nG3bto3BVRiCFIOrMCQrHCEiRAhma4UIxVggQtFQKCFC/3C5XKVCqe2YV5NzQDCBAoiKioqsqalxU6DDB191dTWrq6ujxROgQfgdFx22o3gBeZMZqsEI7Z0Cvp4dDBMkNIbGbGxs5Fgg/nMkCP6uwWq0R48eGREhid39JFDnLmZzSxIWoCL%2b7JOACOGNmJdhSyekK1AAIggGuIARESKNSBeAP5qa4ZUrVyLEtppsQIXDJioSFdZBYmGjwvoYIHkyhcUJiiZfIYappk0hnHuBa9euRYjboxQRBH%2bTe4Hr16935F4gR78LCH5%2bGQOEAKpC3QxRR10eYCqAtWvX8gCZmZn5Z2Rt3%2bMg9S0lJPD1xMLCQttE7dE/ET47Ae9JyCj/KrBG2zdDEEC2LrcxvxkiAUBTT36ru0EEzo%2bSCbrd7rAQIbTPtXE3%2bCO/GoPvXkMgbIIl1MHsGnRUj%2bBRj8GaEK1HWd0O458iUCMVZuskd4FbOOmmOFyi/kVFRU4EQCfcT0LdthEh7F4bsXYvZbkGnhrEjbEP4y9UevbsqcTHx3dLSEjoPn78%2bEgj4XvkuHHjug8fPpxLdsSIEZ32NEiJ0JIlS/jzmDFjPjHjSVD3UaNGdfkvOybSuKCSzOwAAAAASUVORK5CYII=' /%3e%3c/svg%3e" width="812" data-src="/assets/static/codec_inside_processes.d0485bb.8b261e73dc1e786d25e4fd6bd741cf72.png" data-srcset="/assets/static/codec_inside_processes.82a2fbd.8b261e73dc1e786d25e4fd6bd741cf72.png 480w, /assets/static/codec_inside_processes.d0485bb.8b261e73dc1e786d25e4fd6bd741cf72.png 812w" data-sizes="(max-width: 812px) 100vw, 812px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/codec_inside_processes.d0485bb.8b261e73dc1e786d25e4fd6bd741cf72.png" class="g-image g-image--loaded" width="812"></noscript></p><ul><li><p><code>raw</code> - <div class="v-menu"><span role="button" aria-haspopup="true" aria-expanded="false" class="term">pin</span><div role="menu" class="v-menu__content theme--light " style="max-height:auto;min-width:0px;max-width:auto;top:12px;left:0px;transform-origin:top left;z-index:0;display:none;"><div class="v-card v-sheet theme--light" style="min-width:200px;max-width:400px;"><div class="v-card__title">pin</div><div class="v-card__text"><div><p>used by a box to connect th2 microservices between each other to send/receive messages, or to execute gRPC commands.</p>
<p><a href="/1-7/infrastructure/th2-infra-schema/pins">More</a></p>
<!--TODO: make more flexible link (avoid mentioning version straight)-->
</div></div></div></div></div> configuration item, message passing through this pin for processing is in a machine-readable format, ready to be sent or received via according protocol or being decoded.</p></li><li><p><code>parsed</code> - pin configuration item, message passing through this pin for processing is in a human-readable format, used in th2.</p></li><li><p><code>encode</code> - pin configuration item, message passing through this pin will be translated from parsed to raw.</p></li><li><p><code>decode</code> - pin configuration item, message passing through this pin will be translated from raw to parsed.</p></li></ul><p>Example of a raw message (FIX protocol):</p><div class="remark-highlight"><pre class="language-unknown"><code class="language-unknown">8=FIXT.1.19=6835=034=159049=fix-client156=fix-server152=20220608-13:14:37.58110=043</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><p>Example of a parsed message (FIX protocol):</p><div class="remark-highlight"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;connectionId&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;sessionAlias&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fix-server1&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sequence&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1653493560372614018&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;subsequence&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">1</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-06-08T13:14:37.582Z&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;messageType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Heartbeat&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;protocol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FIX&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;trailer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;messageValue&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;CheckSum&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;043&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;header&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;messageValue&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;BeginString&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FIXT.1.1&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;SenderCompID&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fix-client1&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;SendingTime&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2022-06-08T13:14:37.581&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;TargetCompID&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fix-server1&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;MsgType&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;MsgSeqNum&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1590&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;BodyLength&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;simpleValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;68&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><h2 id="family"><a href="#family" aria-hidden="true">#</a>Family</h2><p>There are 3 types of <strong>codec</strong>-related repositories.</p><ul><li><div class="v-menu"><span role="button" aria-haspopup="true" aria-expanded="false" class="term">Box</span><div role="menu" class="v-menu__content theme--light " style="max-height:auto;min-width:0px;max-width:auto;top:12px;left:0px;transform-origin:top left;z-index:0;display:none;"><div class="v-card v-sheet theme--light" style="min-width:200px;max-width:400px;"><div class="v-card__title">box</div><div class="v-card__text"><div><p>in general, th2 box is a docker container deployed in Kubernetes as CR (Custom Resource) with the help of Helm, Helm Operator, infra-mgr and infra-operator. From the end-user (QA) standpoint it is a predefined type of th2 microservice that is serving a certain purpose in a chain of components (other microservices).</p>
</div></div></div></div></div> - use it to translate messages from raw to parsed and back (the name of repository contains the protocol which is used).

</li><li><p>Library - use it to build your own <strong>codec</strong> component.</p></li><li><p>Build script collection - use it to translate messages from raw to parsed (and back) with re-using of Sailfish code (see protocols in Readme files of the repository). SEE ALSO: <a href="https://exactpro.com/test-tools/sailfish" target="_blank" rel="nofollow noopener noreferrer">Sailfish</a>.</p></li></ul><h3 id="box-repositories-list"><a href="#box-repositories-list" aria-hidden="true">#</a>Box repositories list:</h3><div class="v-sheet v-sheet--outlined elevation-2 my-5"><div class="v-data-table"><div class="v-data-table__wrapper"><table><thead><tr><th>Box repositories</th><th>Type</th><th>Comments</th></tr></thead><tbody><tr><td><a href="https://github.com/th2-net/th2-codec-grpc" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-grpc</a></td><td>Box (WIP)</td><td><code>codec</code> for gRPC protocol</td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-qfj" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-qfj</a></td><td>Box (WIP)</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-open-api" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-open-api</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-xml-via-xsd" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-xml-via-xsd</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-conn-http-ws-client-template" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-conn-http-ws-client-template</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-moldudp64" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-moldudp64</a></td><td>Box(WIP)</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-xml" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-xml</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-json" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-json</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-http" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-http</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-html" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-html</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-hand" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-hand</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-hand-html" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-hand-html</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-csv" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-csv</a></td><td>Box</td><td></td></tr><tr><td><a href="https://github.com/th2-net/th2-codec-fix-orchestra" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-fix-orchestra</a></td><td>Box</td><td></td></tr></tbody></table></div></div></div><h3 id="library-repositories"><a href="#library-repositories" aria-hidden="true">#</a>Library repositories:</h3><ul><li><p><a href="https://github.com/th2-net/th2-codec" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec</a> — a common <strong>codec</strong> library with basic functionalities of subscribing/publishing to message queues and loading <strong>codec</strong> settings; all <strong>codecs</strong> written specifically for th2 are based on this library.</p></li><li><p><a href="https://github.com/th2-net/th2-grpc-codec" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-grpc-codec</a> - library containing gRPC interface for <strong>th2-codec</strong> library. This interface can be used to encode/decode messages via RPC call. </p></li><li><p><a href="https://github.com/th2-net/th2-codec-sailfish" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-sailfish</a> - all <strong>codecs</strong> that use Sailfish as a library are based on this library.</p></li></ul><h3 id="build-script-collection"><a href="#build-script-collection" aria-hidden="true">#</a>Build script collection:</h3><p><a href="https://github.com/th2-net/th2-codec-generic" target="_blank" rel="nofollow noopener noreferrer">th2-net/th2-codec-generic</a> - a repository that builds FAST, FIX, ITCH, NTG, and SOUP <strong>codecs</strong> using their Sailfish implementation and <code>th2-codec-sailsfish</code> as a base.</p><p>You can use a link to a docker image of needed <strong>codec</strong> from its GitHub repository to deploy it using <strong>th2-infra</strong>.</p><h2 id="functions"><a href="#functions" aria-hidden="true">#</a>Functions:</h2><p>The <strong>codec</strong> component handles message flows between components such as <strong>conn</strong>, <strong>act</strong>, <strong>check1</strong>, <strong>read</strong> and other. 
On the scheme below you can see an example of interaction with other th2 components.</p><p><img src="data:image/svg+xml,%3csvg fill='none' viewBox='0 0 2560 1545' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-14d101529d38260416f156b5d2002dbf'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-14d101529d38260416f156b5d2002dbf)' width='2560' height='1545' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAnCAYAAAC/mE48AAAACXBIWXMAAAsSAAALEgHS3X78AAAOaElEQVRo3t1aeXCTxxX/JPmSbUm%2bwfdtyzYYDOYMLTSEkKQFwoQwaRrI0QxHyQElVxPSCZ0OTF2CSZsMV6e4JZMJCbcN5jbGtyVb1i0fsuUTfIAPhC3JtrbvrT4pwvhM/mnYmTf7%2bTveb/ft2/feb2VGKpX%2b0mAwbG9oaPgDyDZngfvb6uvr3zqbkxPLjNMaCWGmRSQzkUmLmIjE%2bVRWrX%2bDPpNWafjYX71%2bPRV0vjMSw1n0ev3bZ89nJ%2bD7FVVqD%2bxf27KT6otNXcb4BkUwk2kSqXTZeHMCnG25ublR9GWTyUQmagPG%2b%2bojS9K94fUgdzfXEOjDQTxBQkGmjzcYnb5t1oC%2bLt3U399LJtEGTaaGVqksrUKpn4Xfw62RKt1BwlhcxEcDh/j7%2b8XQ9zvuLCBW64Q49%2b7dU27evNmLsc8RsUeK1WrF3lxsaCbzPvpsH%2biPFQYEz3H3FM71FPglQp/u4SmaHRqbJowULxCEJ8wTwGpRiUxeKJyzeKWAcZs%2b/fnMgzmtfUZChodNAyYTzPEHGRgYsF2bzYNWi8VcVqsnqw4cysKJpixYIYxMWihEfeHx6cLY1KVeIv/QEA9PYRrfy2cm4sM4Ejy8RHO9vUWLGMYtaePR48W9Fhw2MbHjHykWkGHANRUUFCTbDYAPrCNleHgY%2b%2bFKMMDKfV%2b%2b6bwM81a8yrFfR6cs4YbFp/NgoFy7RKYu4WV%2beZQHj93eOJx16O4A9bQhVucjMjSE961D6uYW8urhrL%2bi3jf/uMslImWxTa94ATckZhbv81zrQ%2b6Q/tQP44Dmsv34iZMDFGL0OUEbxof9/f33wQBihwFwYE1NTaSzs5O0t7cTs9lM2I/IkNlkJu2tdM9cPX2Cy0yywaf0XfPt1udZnCGLxUJxEKOjo4PAniT3798nToMk5pamZc7fT6ZduXbVlX5zv/dNFst89%2b5da0tLC7o7uXPnDjEajY45gQGMDgOgq8DErQqFguh0OiKRSAh8TM2Fz%2b8bjYOFZWUzEECuUnHD4uYwftOjmeDomQxeY5AC93cEQJQFT69jAJBOoEqp3OBkAAKBlTQ2NhK1Wk0QEw3htEKkQi5fhd9ptFresy%2b%2b8ZBeOxZsOcBPpeOInrOMaW1pccFv9AbDDhbLghgymYzU1dWR8vJy0tzcPLoB4I9BeNGKH1RXV1Opra1Fy9GXHzx4MFhWVpaMAAcPHkS3trsdx%2bn6kdbT04vvMjDR37KGHhocHHQEItbL7I1uN7wAozxLA6iuhjfOoj%2bEnZ2dTT2gqbn5XbsBcOXRyK2traSiooKgNzgb4NatW2IGVxzSAjUATJKuPr6M90tLS62QJkm5RDJ4NudC8ngu6C0KYmYsWmNbocR5zDsf7Ga6Om5zQmav54IHvI6gYNQhuVxOampqCICTqqoqioOrU1RUZAVPoIOTyRXrduy7yT3zzVfM3s8PUX0oCXOeZoR%2bweNuhQu5udtxAcHLLJWVlQTnhHPAHnGhtyIezNMIqdDmAeCWGImtuEcwLdploL8fgtMQMfb1mi4d/y9ugShvL09MN4kgApA49jpwrAEVSTRig1a3hQYaiHTgAVZcedRv73FbID5gWdFN4P3XSmR1MePMEwsCrE2wZsC0HBQUFDgTHxjb2zexc7LY5wQR34EHKw/hbhi92/hQEBw1Ytr6oau6OpL63qf/RlBBYHCcO1%2bAqSfCne%2bd4ObhleIp8A8Wpz/jBvGAD/uTD17Aj0hexF/85BrM0a5Pf/7VpVJdDcUxQxBEI4wUvI/PJY3NZOmezFNo4CfXbvQIQ12shMXP5cenLXcH7EjEhnHgWGI9vH2ivTwFKZAEpq89eKy8w/iAxhvrKHOybzMwyn3wOocBhscrGhq67pHn92a%2bhBb%2b5Nhllw0ff8tNWbjabfOey9xPsuq5c5e/4oqTh0F6OCRpocfKNb/DYonZmfXN7v4hCoGpFRf5EYH8SLF6zBay6aujOzGlLX1uPR/S30N60QhPrv%2bQt21fPnfL3mvcJavfcklf%2bZprew%2bh8WLv6ewj9oA73pww7l25ciWBgWivgiA3BK4yAGJ2EhPeg2eku7PzOPMTGjHIPfp6evLR/UAf6jSBmJ3ERO/D8%2b67Xed%2bDEbv3VqODas2rKe7u3qCOVnb2tqy6If79%2b8XQAAUg8SDJNgFAkgCBKkECBjx8Bq17qF9BzgYeDH1hSekM1D8gMxloEqzCd6jz%2bYxiWlLqf5rNwpoKgyOiXWTSiSJqBeC7COC98vLyhLsWN99d5Z%2bN2P%2bUzad8ekOXNSPuGF2XAi8tBbIK6BG2JeZKYKxi0HnqHOCQBg/XvYatRXLFTggDo/H44yRBjkjU1O1vuWnOA4j19QzY%2bgemX7p3xwud0qTgp3AYSAFfghV2RmQEyDfjZATUEGdUqlUa6aiOG3pS8wHu/bSwcjVdWEff7jbFdLd66Dv9Bg4DiylUvnCmTNX3Crk1RjdmdKq%2bikZLcjDhQcp8OMJ5nQScH5jt8KEDfZN73s7d6J7xri5uYrRM0ECQLA2iGFZGURhBp8lOQ%2boUqmPKykpX00m2SAjDF67fnPl9UI5peDXLnzPYfUi/mzcTSwbTQOJZJnhDF9fH8QPBDffMBkcKL/vHTlyZJrdAJQ5jRSIzBhJTbnaWpL6p7/8CwB8/cJiYj2F/tFQ%2bEQAE4vzEgZEATMT26%2b9RIGRsFcF4UkLvRcuXeWFg1q6N7O4uqOL4qBOyARUP/YOgSoRn1%2buUpIn9mSexcnPX75WGBybJvAWBUagbki3Magfhe/tk4j3sYfxJPiKAsJ5PqFznss8qG/toczbbMcZKZj1ICA/KC4u/oENWm3todRkZ26G9g7yzuGsFTioi7X9POToa7d%2bQV38bCtxcHbsL3UTrNNdgMa6bnr7Aze8f%2bBM9kcDWALbJjkWWbcCURhuAayMk%2bc24XfrNm5xj055wuVMyw8Ym/dc4fwte4Biv39YyXHCpkEz69rNv4%2bobUY2ex2ApXAiM8HL9B6Ub5a%2bJkOcI3BMkQ12NTe9SJffZKK5WavVUq6BTBDLbmRqiIWVG160N9SvmCpWR0cbJUN3W1u3sjzDApO0slUmMdEqcAB7LLxIb2%2bvsbCwUMwgEwMmOAiEwYpsCfIjJQ84KBggpZP1DQ2DuVeupNBUc/U6NyhcDKu8kAmJmc2ExqbR3sEIgaUFhScxScDQOju7aEpTqFQb2PKUGqCrq4t0d3dTcoKYdjpssVWDwAXkNEDJ5QrekhXrKOubHpnCgFdR3RQXUmJoXBoVvH/xYi41wLnsnO0arY5oddWWoqJiogIyJAPOIVcoST7wjzp9vVWl1pBKWZURSJeYYSc8CCti1Wg0jtVBzg5/W5FKAqMaPHv%2bPDXA7t27eWMwskfSoJ0NKlUq6gFQdA3hxJFf9PX1UZ6OlSHW68g8wRDUPavk8mfwO5lc5TIKAxz1Oicnh7LBttu337XACpdLpJbS0jJSUlpKysolBMZASoEQFZeUWNFAsAhGCJjiSW2BQSBLHU2NCVNJRy%2bsf4VDBvvpIKt11X9mXX8IjYwGLikpoVQVmRtydii40AMpnk6teTnr5HV//PYfh45PKbd3d3a8xZ75WSDlWdHb0NDdPT2kE67xkASND8Y2lpQUP3wihKthF6cgSO719Vl27T/wKyRDfD5/JpuOgkBSQeaw7CyF/Xsmm54cLV8q%2b8LY30/PA8YLgkiK%2boDIXCgo2fr199enOakQ4ukXyzwRD5/NZ1Mwyhw/X19Mi8E3yqWf2s8DxguCjvMA%2b9kEDm6ksGnQnKPWkRk7d51wB%2bDAaHGY0C8kQuQfCn1whLdPULTQPyQM0lS8KCA0FK/9pkVNi0x5Qpg6bzkM3FUAae1GoVpLcVDneFjFegNZtDvjMkzGb%2b6yVQIgVcJpEcl%2bAt/pkTbMkHBRQFiowHdaFGJBKowV%2bgdHBQWFBzPCaVHPfXFY29LdQw0wGhamRjQMngk6p8FxWzu40I5/Hkob45h61AY1O/fLo/%2bhe/jouZyXJ10IwZplfP0tPRH6LOMALyJxHnfxr7dMOuOcyS98f5LF3cCpU6ciGIjExyAlaEBkIPIRUgVBS9PYUL/Dnpb%2bsnr2VGptx7WhoSGjp6cHcapGwXHCavjkx/CGS7nnaaxounTes6219esJ5qSGOPT2FDktYTaGBtmOY0YcUo4mkcmL6Ls5p0//KCJ0LCOD9pEpiybEipr1C4b99WnqQJDvubiydhltFfPy8niRkba45urqOmndEonEtjqXLlEXRV0TCAdSJPfo0aO24JmfP2WsgoKCyWBxoDjiBgaOcpLn5x/o5e7hEeLm7h7F5XIj2J%2biHuuGgYrLHkRg780yOkxpicD//VkjeLK/w6F4TflA4f%2b1NTQ2X9PVNJyTKXTZeQWSbIW69rxcVft9eaXmYl6hdB6%2bI06e4ckaAX%2bxRYLjx/Y//9bR1d1YZ2jTaGoM1RKZTitT1lardPXasgpNa2mFOmOM1Md/bAzQdqdTr60xyMEAqnKZVimV65RgBEWpVF1fUCo/5PxuyoyZ9kuvx8kAjXpDm1pd3aArLFNoYfV1EplWXSJVtdwskq21/d7Wyq%2btb3H%2bofLxMcCdjrs1huY7lTBxeVG5sgp6Bbh%2bFXiCXFvbWKjU1ueBQSrg2Van7fBYeUBNtb5ZBh6ggInKpVU6RYWiWlFWqUFjqGTKGhUExNqickX2reIK%2bkOHSOTj/dgYoL3zngEMoNLVNWnBABq5uk5bqajRQTzAwKhRaPRqiAl1sD3O1Td30v/b8fHxRQ9wfSwM0NDYUl5T15hXIdfdulEgvVkJPaS//FKp8qZMWZ0PK59XWFoluXS9mG6B32/ahnWDz2PjAbFxcb4JiWKRlyhAFBAULAJaK3L38hGFhkXC3yEi34DptHf34AtokcThoPuL7L/g/Nzb/wBrawjB%2b53a7gAAAABJRU5ErkJggg==' /%3e%3c/svg%3e" width="2560" data-src="/assets/static/codec_interaction_with_other_components.42db587.73ba0aa318c4009dab5c4140c6b66103.png" data-srcset="/assets/static/codec_interaction_with_other_components.82a2fbd.73ba0aa318c4009dab5c4140c6b66103.png 480w, /assets/static/codec_interaction_with_other_components.cbab2cf.73ba0aa318c4009dab5c4140c6b66103.png 1024w, /assets/static/codec_interaction_with_other_components.2665e34.73ba0aa318c4009dab5c4140c6b66103.png 1920w, /assets/static/codec_interaction_with_other_components.42db587.73ba0aa318c4009dab5c4140c6b66103.png 2560w" data-sizes="(max-width: 2560px) 100vw, 2560px" class="g-image g-image--lazy g-image--loading"><noscript><img src="/assets/static/codec_interaction_with_other_components.42db587.73ba0aa318c4009dab5c4140c6b66103.png" class="g-image g-image--loaded" width="2560"></noscript></p><p>The <strong>codec</strong> component has eight pins - four for the stream, and four general ones. 
Functionality of the stream and the general pins is the same. 
A common system setup uses two data flows: 1) to and from the system, and 2) to and from data provider. 
Messages from these flows cannot be mixed. 
One way to avoid this intersection is to use two instances of a component with four pins. 
Another option is to configure eight pins – this allows the user to decrease the amount of required settings in <strong>infra-schema</strong> as well as resource utilization of the resulting system. 
General pins are used by the data-provider component, other components are usually connected to the stream pins.</p><h3 id="why-do-we-need-a-chain-of-codecs"><a href="#why-do-we-need-a-chain-of-codecs" aria-hidden="true">#</a>Why do we need a chain of codecs?</h3><p>It is a very common case when the messages you send or receive from the system have the following structure: a transport layer protocol and a payload wrapped into the transport layer. 
The payload can be any other protocol (even another transport protocol and a different payload wrapped into it). 
Also, sometimes different systems use the same transport protocol but with the different payload wrapped into it (e.g. HTTP + JSON, HTTP + FIX).</p><p>In case you need to encode/decode a message but do not have a single <strong>codec</strong> for such case, you can reuse already implemented <strong>codecs</strong> by joining them into a chain of <strong>codecs</strong>. It is also recommended for the <strong>codec</strong> to work only with a single protocol.<br>
For example, you have HTTP, JSON and XML <strong>codec</strong>. 
You can join them together for decoding XML over HTTP or JSON over HTTP.</p><p>If the <strong>codec</strong> component gets a message that does not match an expected format (a raw message of corresponding protocol to <code>in_codec_decode</code> pin and a parsed message to <code>in_codec_encode</code> pin) it will be sent through the corresponding out pins without changes.</p><h2 id="configuration"><a href="#configuration" aria-hidden="true">#</a>Configuration:</h2><h3 id="configuration-parameters"><a href="#configuration-parameters" aria-hidden="true">#</a>Configuration parameters</h3><p>Config file includes the following parameters:</p><ul><li><p><code>apiVersion</code> - API Kubernetes version used to create an object, the only available value - <code>th2.exactpro.com/v1</code>.</p></li><li><p><code>kind</code>- kind of the created object, possible values - <code>Th2Box</code>, <code>Th2CoreBox</code>, <code>Th2Estore</code>, <code>Th2Mstore</code>, <code>Th2Dictionary</code>.</p></li><li><p><code>metadata</code> (name, UID and optional field namespace) - should be equal to the file name without extension.</p></li><li><p><code>spec</code> - required object configuration. This seciton contains <code>image-name</code> and <code>image-version</code> (including versions), <code>type</code>, <code>custom-config</code> (component-specific set of parameters), <code>pins</code> (to communicate with other boxes).</p></li><li><p><code>extended-settings: service</code> - here we specify whether the object is available for other components, envVariables (environment variables for pod deployment), resources (amount of resources available for a Pod), etc. </p></li></ul><p>The <strong>codec</strong> settings can be specified in <code>codecSettings</code> field of <code>custom-config</code>. </p><p>For example:</p><div class="remark-highlight"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> th2.exactpro.com/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Th2Box
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> codec
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">custom-config</span><span class="token punctuation">:</span>
    <span class="token key atrule">codecSettings</span><span class="token punctuation">:</span>
      <span class="token key atrule">messageTypeDetection</span><span class="token punctuation">:</span> BY_INNER_FIELD
      <span class="token key atrule">messageTypeField</span><span class="token punctuation">:</span> <span class="token string">&quot;messageType&quot;</span>
      <span class="token key atrule">rejectUnexpectedFields</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">treatSimpleValuesAsStrings</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><h3 id="required-pins-and-links"><a href="#required-pins-and-links" aria-hidden="true">#</a>Required pins and links</h3><p>The <strong>codec</strong> has four types of pins: stream encode, stream decode, general encode, general decode.</p><ul><li><p><em>stream encode / decode</em> pins are used for all testing activities performed with th2; <strong>act</strong>, <strong>conn</strong>, <strong>sim</strong>, <strong>recon</strong>, <strong>bookchecker</strong> microservices interact with <strong>codec</strong> through the <em>stream encode / decode</em> pins.</p></li><li><p><em>general encode / decode</em> pins work on demand; those pins are mainly used for the th2 report UI: in order to show messages stored in Cassandra to the end user, <strong>report-data-viewer</strong> requests these messages from <strong>rpt-data-provider</strong> via <strong>codec</strong>.</p></li></ul><p>Codec never mixes messages from the <em>stream</em> and the <em>general</em> pins.</p><div role="alert" class="v-alert my-3 v-sheet theme--light v-alert--border v-alert--text v-alert--border-left blue--text text--darken-4" data-v-e2b44c62><div class="v-alert__wrapper"><i aria-hidden="true" class="v-icon notranslate v-alert__icon mdi mdi-information-outline theme--light blue--text text--darken-4"></i><div class="v-alert__content"><p>SEE ALSO: <a href="/1-7/infrastructure/th2-infra-schema/pins#stream-and-general-codec-pins">stream and general pins description</a></p></div><div class="v-alert__border v-alert__border--left"></div></div></div><p>Pins are a part of the main th2 concept. 
They describe what are the inputs and outputs of a box. 
You can read more about them <a href="../infrastructure/th2-infra-schema/pins">here</a>.</p><p>Every <strong>codec</strong> operation is associated with 2 pins - <code>subscribe</code> and <code>publish</code>. 
The first one is used to receive messages to decode/encode, while the second one is used to send decoded/encoded messages further. </p><p><strong>Typical codec has the following pins</strong>: </p><ul><li><p>Pin for the <em>stream encoding</em> input: <code>encoder_in</code><code>parsed</code><code>subscribe</code></p></li><li><p>Pin for the <em>stream encoding</em> output: <code>encoder_out</code><code>raw</code><code>publish</code></p></li><li><p>Pin for the <em>general encoding</em> input: <code>general_encoder_in</code><code>parsed</code><code>subscribe</code></p></li><li><p>Pin for the <em>general encoding</em> output: <code>general_encoder_out</code><code>raw</code><code>publish</code></p></li><li><p>Pin for the <em>stream decoding</em> input: <code>decoder_in</code><code>raw</code><code>subscribe</code></p></li><li><p>Pin for the <em>stream decoding</em> output: <code>decoder_out</code><code>parsed</code><code>publish</code></p></li><li><p>Pin for the <em>general decoding</em> input: <code>general_decoder_in</code><code>raw</code><code>subscribe</code></p></li><li><p>Pin for the <em>general decoding</em> output: <code>general_decoder_out</code><code>parsed</code><code>publish</code></p></li></ul><h3 id="configuration-example"><a href="#configuration-example" aria-hidden="true">#</a>Configuration example</h3><p>API Kubernetes documentation contains specification format for any in-built Kubernetes object. th2-specific custom resources can be found in a Readme file of the component repository.</p><ul><li><p><code>name</code> in metadata must be filled in as a box name.</p></li><li><p><code>image-name</code> must contain a <div class="v-menu"><span role="button" aria-haspopup="true" aria-expanded="false" class="term">link</span><div role="menu" class="v-menu__content theme--light " style="max-height:auto;min-width:0px;max-width:auto;top:12px;left:0px;transform-origin:top left;z-index:0;display:none;"><div class="v-card v-sheet theme--light" style="min-width:200px;max-width:400px;"><div class="v-card__title">link</div><div class="v-card__text"><div><p>connects th2 entities (dictionaries or boxes) between each other. </p>
</div></div></div></div></div> to the image of <strong>codec</strong> on your project (preferably the last version). For one project you can have more than one <strong>codec</strong> for the same protocol.</p></li><li><p><code>image-version</code> should be filled with image tag (version of image in your project’s <strong>codec</strong>).</p></li><li><p><code>type</code> specifies the type of component in th2.</p></li><li><p><code>logFile</code> - this field is not mandatory and is only filled out in case of the user requiring log information on a very detailed level.</p></li><li><p>In <code>extended-settings.resources</code>, the <code>limits</code> value must be greater than the value of <code>requests</code>.</p></li><li><p><code>service</code> parameter: to make this component available to other th2 boxes, set <code>service.enabled</code> to <code>true</code>.</p></li></ul><p>This configuration is a general way for deploying components in th2. 
It contains box configuration, pins' descriptions and other common parameters for a box.</p><p>You can configure a specific implementation of <strong>codec</strong> using the <code>codecSettings</code> section (Exception: for <strong>codec-sailfish-...</strong>, use <code>codecParameters</code> instead of <code>codecSettings</code>).</p><p>Extended example of the <strong>codec</strong> configuration:</p><div class="remark-highlight"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> th2.exactpro.com/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Th2Box
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> codec
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">custom-config</span><span class="token punctuation">:</span>
    <span class="token key atrule">codecSettings</span><span class="token punctuation">:</span>
      <span class="token key atrule">parameter1</span><span class="token punctuation">:</span> value
      <span class="token key atrule">parameter2</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> value1
        <span class="token punctuation">-</span> value2
  <span class="token key atrule">pins</span><span class="token punctuation">:</span>
    <span class="token comment"># encoder</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> in_codec_encode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'encoder_in'</span><span class="token punctuation">,</span> <span class="token string">'parsed'</span><span class="token punctuation">,</span> <span class="token string">'subscribe'</span> <span class="token punctuation">]</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> out_codec_encode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'encoder_out'</span><span class="token punctuation">,</span> <span class="token string">'raw'</span><span class="token punctuation">,</span> <span class="token string">'publish'</span> <span class="token punctuation">]</span>
    <span class="token comment"># decoder</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> in_codec_decode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'decoder_in'</span><span class="token punctuation">,</span> <span class="token string">'raw'</span><span class="token punctuation">,</span> <span class="token string">'subscribe'</span><span class="token punctuation">]</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> out_codec_decode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'decoder_out'</span><span class="token punctuation">,</span> <span class="token string">'parsed'</span><span class="token punctuation">,</span> <span class="token string">'publish'</span><span class="token punctuation">]</span>
    <span class="token comment"># encoder general (technical)</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> in_codec_general_encode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'general_encoder_in'</span><span class="token punctuation">,</span> <span class="token string">'parsed'</span><span class="token punctuation">,</span> <span class="token string">'subscribe'</span><span class="token punctuation">]</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> out_codec_general_encode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'general_encoder_out'</span><span class="token punctuation">,</span> <span class="token string">'raw'</span><span class="token punctuation">,</span> <span class="token string">'publish'</span><span class="token punctuation">]</span>
    <span class="token comment"># decoder general (technical)</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> in_codec_general_decode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'general_decoder_in'</span><span class="token punctuation">,</span> <span class="token string">'raw'</span><span class="token punctuation">,</span> <span class="token string">'subscribe'</span><span class="token punctuation">]</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> out_codec_general_decode
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'general_decoder_out'</span><span class="token punctuation">,</span> <span class="token string">'parsed'</span><span class="token punctuation">,</span> <span class="token string">'publish'</span><span class="token punctuation">]</span>
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><h3 id="codec-related-links"><a href="#codec-related-links" aria-hidden="true">#</a>Codec-related links</h3><p>Schema API allows configuring routing streams of the messages via links between the connections and the filters on pins. 
Let's consider some examples of routing in a <strong>codec</strong> box.</p><h4 id="split-on-publish-pins"><a href="#split-on-publish-pins" aria-hidden="true">#</a>Split on 'publish' pins</h4><p>To split a big source data stream into different pins by session alias, consider declaring multiple pins with attributes <code>['decoder_out', 'parsed', 'publish']</code> and filters instead of a common pin or in addition to it. 
Every decoded message will be directed to all declared pins and will be sent to MQ only if it passes the filter.</p><div class="remark-highlight"><pre class="language-yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> th2.exactpro.com/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Th2Box
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> codec
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">pins</span><span class="token punctuation">:</span>
    <span class="token comment"># decoder</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> out_codec_decode_first_session_alias
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'decoder_out'</span><span class="token punctuation">,</span> <span class="token string">'parsed'</span><span class="token punctuation">,</span> <span class="token string">'publish'</span><span class="token punctuation">]</span>
      <span class="token key atrule">filters</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">field-name</span><span class="token punctuation">:</span> session_alias
              <span class="token key atrule">expected-value</span><span class="token punctuation">:</span> first_session_alias
              <span class="token key atrule">operation</span><span class="token punctuation">:</span> EQUAL
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> out_codec_decode_secon_session_alias
      <span class="token key atrule">connection-type</span><span class="token punctuation">:</span> mq
      <span class="token key atrule">attributes</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'decoder_out'</span><span class="token punctuation">,</span> <span class="token string">'parsed'</span><span class="token punctuation">,</span> <span class="token string">'publish'</span><span class="token punctuation">]</span>
      <span class="token key atrule">filters</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> <span class="token key atrule">field-name</span><span class="token punctuation">:</span> session_alias
              <span class="token key atrule">expected-value</span><span class="token punctuation">:</span> second_session_alias
              <span class="token key atrule">operation</span><span class="token punctuation">:</span> EQUAL
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><p>The filtering can also be applied for pins with a <code>subscribe</code> attribute.</p><h3 id="links-config"><a href="#links-config" aria-hidden="true">#</a>Links config</h3><p>The main link for a typical <strong>codec</strong> instance is a dictionary link. 
A linked dictionary serves as a reference for validations performed by a <strong>codec</strong> instance. </p><p>Example:</p><div class="remark-highlight"><pre class="language-yaml"><code class="language-yaml"><span class="token comment">##### dictionary-links.yml #####</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> th2.exactpro.com/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Th2Link
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> dictionary<span class="token punctuation">-</span>links
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">dictionaries-relation</span><span class="token punctuation">:</span>

 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell<span class="token punctuation">-</span>dictionary
    <span class="token key atrule">box</span><span class="token punctuation">:</span> codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell
    <span class="token key atrule">dictionary</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> fix<span class="token punctuation">-</span>sell
      <span class="token key atrule">type</span><span class="token punctuation">:</span> MAIN
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><h4 id="connectivity-links"><a href="#connectivity-links" aria-hidden="true">#</a>Connectivity links</h4><p>Functionally, <strong>codec</strong> is a regular th2 box that communicates with other boxes via pins and links. 
To configure the connections, use a template on the <a href="../../infrastructure/th2-infra-schema/links#boxes-links">Links</a> page.</p><h4 id="report-data-provider-link-s"><a href="#report-data-provider-link-s" aria-hidden="true">#</a>Report Data Provider link(-s)</h4><p>For messages passing through <strong>codec</strong> to be displayed in Report UI, <strong>codec</strong> should be linked to <strong>rpt-data-provider</strong> in the following way:</p><p>Dedicated to desired <strong>codec</strong>, <strong>rpt-data-provider</strong> pin should be linked to <code>in_codec_general_decode</code><strong>codec</strong> pin.</p><p><code>out_codec_general_decode</code><strong>codec</strong> pin should be linked to <strong>rpt-data-provider</strong> pre-configured dedicated pin for particular <strong>codec</strong>.</p><div class="remark-highlight"><pre class="language-yaml"><code class="language-yaml"><span class="token comment">##### from-codec-links.yml #####</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> th2.exactpro.com/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Th2Link
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> from<span class="token punctuation">-</span>codec<span class="token punctuation">-</span>links
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">boxes-relation</span><span class="token punctuation">:</span>
    <span class="token key atrule">router-mq</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> provider<span class="token punctuation">-</span>to<span class="token punctuation">-</span>codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell
      <span class="token key atrule">from</span><span class="token punctuation">:</span>
        <span class="token key atrule">box</span><span class="token punctuation">:</span> rpt<span class="token punctuation">-</span>data<span class="token punctuation">-</span>provider
        <span class="token key atrule">pin</span><span class="token punctuation">:</span> to_codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell
      <span class="token key atrule">to</span><span class="token punctuation">:</span>
        <span class="token key atrule">box</span><span class="token punctuation">:</span> codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell
        <span class="token key atrule">pin</span><span class="token punctuation">:</span> in_codec_general_decode
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell<span class="token punctuation">-</span>to<span class="token punctuation">-</span>provider
      <span class="token key atrule">from</span><span class="token punctuation">:</span>
        <span class="token key atrule">box</span><span class="token punctuation">:</span> codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell
        <span class="token key atrule">pin</span><span class="token punctuation">:</span> out_codec_general_decode
      <span class="token key atrule">to</span><span class="token punctuation">:</span>
        <span class="token key atrule">box</span><span class="token punctuation">:</span> rpt<span class="token punctuation">-</span>data<span class="token punctuation">-</span>provider
        <span class="token key atrule">pin</span><span class="token punctuation">:</span> from_codec<span class="token punctuation">-</span>fix<span class="token punctuation">-</span>sell
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><h2 id="useful-hints"><a href="#useful-hints" aria-hidden="true">#</a>Useful hints</h2><h3 id="how-to-create-your-own-codec"><a href="#how-to-create-your-own-codec" aria-hidden="true">#</a>How to create your own codec?</h3><p>To implement a <strong>codec</strong> using this library you need to:</p><ol><li>add the following repositories into <code>build.gradle</code>:</li></ol><div class="remark-highlight"><pre class="language-groovy"><code class="language-groovy">maven <span class="token punctuation">{</span>
    url <span class="token string">'https://s01.oss.sonatype.org/content/repositories/snapshots/'</span>
<span class="token punctuation">}</span>

maven <span class="token punctuation">{</span>
    url <span class="token string">'https://s01.oss.sonatype.org/content/repositories/releases/'</span>
<span class="token punctuation">}</span>
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><ol start="2"><li><p>add dependency on <code>com.exactpro.th2:codec:4.6.0</code> into <code>build.gradle</code></p></li><li><p>set main class to <code>com.exactpro.th2.codec.MainKt</code></p></li></ol><p>This is usually done by using Gradle application plugin where you can set the main class like this:</p><div class="remark-highlight"><pre class="language-groovy"><code class="language-groovy">application <span class="token punctuation">{</span>
   mainClassName <span class="token string">'com.exactpro.th2.codec.MainKt'</span>
<span class="token punctuation">}</span>
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><ol start="4"><li>implement <code>codec</code> itself by implementing IPipelineCodec interface:</li></ol><div class="remark-highlight"><pre class="language-groovy"><code class="language-groovy"><span class="token keyword">interface</span> <span class="token class-name">IPipelineCodec</span> <span class="token punctuation">:</span> AutoCloseable <span class="token punctuation">{</span>
    fun <span class="token function">encode</span><span class="token punctuation">(</span>messageGroup<span class="token punctuation">:</span> MessageGroup<span class="token punctuation">)</span><span class="token punctuation">:</span> MessageGroup <span class="token operator">=</span> <span class="token function">TODO</span><span class="token punctuation">(</span><span class="token string gstring">&quot;encode(messageGroup) method is not implemented&quot;</span><span class="token punctuation">)</span>
    fun <span class="token function">encode</span><span class="token punctuation">(</span>messageGroup<span class="token punctuation">:</span> MessageGroup<span class="token punctuation">,</span> context<span class="token punctuation">:</span> IReportingContext<span class="token punctuation">)</span><span class="token punctuation">:</span> MessageGroup <span class="token operator">=</span> <span class="token function">encode</span><span class="token punctuation">(</span>messageGroup<span class="token punctuation">)</span>
    fun <span class="token function">decode</span><span class="token punctuation">(</span>messageGroup<span class="token punctuation">:</span> MessageGroup<span class="token punctuation">)</span><span class="token punctuation">:</span> MessageGroup <span class="token operator">=</span> <span class="token function">TODO</span><span class="token punctuation">(</span><span class="token string gstring">&quot;decode(messageGroup) method is not implemented&quot;</span><span class="token punctuation">)</span>
    fun <span class="token function">decode</span><span class="token punctuation">(</span>messageGroup<span class="token punctuation">:</span> MessageGroup<span class="token punctuation">,</span> context<span class="token punctuation">:</span> IReportingContext<span class="token punctuation">)</span><span class="token punctuation">:</span> MessageGroup <span class="token operator">=</span> <span class="token function">decode</span><span class="token punctuation">(</span>messageGroup<span class="token punctuation">)</span>
    override fun <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><ol start="5"><li>implement a factory for it, using the IPipelineCodecFactory interface:</li></ol><div class="remark-highlight"><pre class="language-groovy"><code class="language-groovy"><span class="token keyword">interface</span> <span class="token class-name">IPipelineCodecFactory</span> <span class="token punctuation">:</span> AutoCloseable <span class="token punctuation">{</span>
    val protocols<span class="token punctuation">:</span> Set<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span>
    val settingsClass<span class="token punctuation">:</span> Class<span class="token operator">&lt;</span>out IPipelineCodecSettings<span class="token operator">&gt;</span>
    fun <span class="token function">init</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">:</span> InputStream<span class="token punctuation">)</span><span class="token punctuation">:</span> Unit <span class="token operator">=</span> <span class="token function">TODO</span><span class="token punctuation">(</span><span class="token string gstring">&quot;not implemented&quot;</span><span class="token punctuation">)</span>
    fun <span class="token function">init</span><span class="token punctuation">(</span>pipelineCodecContext<span class="token punctuation">:</span> IPipelineCodecContext<span class="token punctuation">)</span><span class="token punctuation">:</span> Unit <span class="token operator">=</span> pipelineCodecContext<span class="token punctuation">[</span>DictionaryType<span class="token punctuation">.</span>MAIN<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">:</span><span class="token punctuation">:</span>init<span class="token punctuation">)</span>
    fun <span class="token function">create</span><span class="token punctuation">(</span>settings<span class="token punctuation">:</span> IPipelineCodecSettings<span class="token operator">?</span> <span class="token operator">=</span> null<span class="token punctuation">)</span><span class="token punctuation">:</span> IPipelineCodec
    override fun <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><button class="copy" data-v-fbb0a762><svg fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" data-v-fbb0a762><path d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" data-v-fbb0a762></path></svg></button></div><p><strong>NOTE</strong>: both init methods have default implementations. 
One of them must be overridden in your factory implementation. 
If your <strong>codec</strong> needs the MAIN dictionary, only you can override the <code>init(dictionary: InputStream)</code> method. 
Otherwise, you should override the <code>init(pipelineCodecContext: IPipelineCodecContext)</code> method.</p><p><strong>IMPORTANT</strong>: implementation should be loadable via Java's built-in service loader.</p><ol start="6"><li>That's it! Your <strong>codec</strong> is now complete.</li></ol></div><!----><!----></article></div><aside class="pl-5 pt-5 page-content-panel layout__aside--right" data-v-6c750122><nav class="pr-2 sticky-page-content" data-v-6c750122><div data-v-6c750122><div><a href="https://github.com/th2-net/th2-docs/blob/master/content/versions/1-7/modules/codec/_index.md" target="_blank" class="v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-pencil-outline theme--light"></i></span></a><a href="https://github.com/th2-net/th2-docs/blob/master/content/versions/1-7/modules/codec/_index.md" target="_blank">
       Edit this page
    </a></div></div><div data-v-6c750122><div><a href="https://github.com/th2-net/th2-docs/issues/new?title=One thing is unclear after reading &quot;th2-codec&quot; article&amp;body=I've read [&quot;th2-codec&quot; article](https://github.com/th2-net/th2-docs/blob/master/content/versions/1-7/modules/codec/_index.md) and there is one problem.&amp;assignees=d0rich&amp;labels=by-reader" target="_blank" class="v-btn v-btn--icon v-btn--round theme--light v-size--default"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-alert-circle-outline theme--light"></i></span></a><a href="https://github.com/th2-net/th2-docs/issues/new?title=One thing is unclear after reading &quot;th2-codec&quot; article&amp;body=I've read [&quot;th2-codec&quot; article](https://github.com/th2-net/th2-docs/blob/master/content/versions/1-7/modules/codec/_index.md) and there is one problem.&amp;assignees=d0rich&amp;labels=by-reader" target="_blank">
       Create an issue
    </a></div></div><h3 class="mb-3 mt-7" data-v-6c750122>On this page</h3><ul data-v-6c750122><li class="font-weight-bold" data-v-6c750122><a href="#th2-codec" data-v-6c750122><div data-v-6c750122>th2-codec</div></a></li><li class="py-2" data-v-6c750122><a href="#overview" data-v-6c750122><div data-v-6c750122>Overview</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#encoding" data-v-6c750122><div data-v-6c750122>Encoding</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#decoding" data-v-6c750122><div data-v-6c750122>Decoding</div></a></li><li class="py-2 h2-border" data-v-6c750122><a href="#family" data-v-6c750122><div data-v-6c750122>Family</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#box-repositories-list" data-v-6c750122><div data-v-6c750122>Box repositories list:</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#library-repositories" data-v-6c750122><div data-v-6c750122>Library repositories:</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#build-script-collection" data-v-6c750122><div data-v-6c750122>Build script collection:</div></a></li><li class="py-2 h2-border" data-v-6c750122><a href="#functions" data-v-6c750122><div data-v-6c750122>Functions:</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#why-do-we-need-a-chain-of-codecs" data-v-6c750122><div data-v-6c750122>Why do we need a chain of codecs?</div></a></li><li class="py-2 h2-border" data-v-6c750122><a href="#configuration" data-v-6c750122><div data-v-6c750122>Configuration:</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#configuration-parameters" data-v-6c750122><div data-v-6c750122>Configuration parameters</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#required-pins-and-links" data-v-6c750122><div data-v-6c750122>Required pins and links</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#configuration-example" data-v-6c750122><div data-v-6c750122>Configuration example</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#codec-related-links" data-v-6c750122><div data-v-6c750122>Codec-related links</div></a></li><li class="ml-3 pb-2" data-v-6c750122><a href="#split-on-publish-pins" data-v-6c750122><div data-v-6c750122>Split on 'publish' pins</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#links-config" data-v-6c750122><div data-v-6c750122>Links config</div></a></li><li class="ml-3 pb-2" data-v-6c750122><a href="#connectivity-links" data-v-6c750122><div data-v-6c750122>Connectivity links</div></a></li><li class="ml-3 pb-2" data-v-6c750122><a href="#report-data-provider-link-s" data-v-6c750122><div data-v-6c750122>Report Data Provider link(-s)</div></a></li><li class="py-2 h2-border" data-v-6c750122><a href="#useful-hints" data-v-6c750122><div data-v-6c750122>Useful hints</div></a></li><li class="ml-2 pb-2" data-v-6c750122><a href="#how-to-create-your-own-codec" data-v-6c750122><div data-v-6c750122>How to create your own codec?</div></a></li></ul></nav></aside></div></div></div></main><footer class="v-footer flex justify-center py-6 v-sheet theme--dark secondary" data-v-28b3144a data-v-7b23e68f><div class="footer__content col" data-v-28b3144a><div class="d-flex justify-space-between footer__sections" data-v-28b3144a><div class="d-flex flex-column px-8 py-4 pa-sm-0 pa-xs-0" data-v-28b3144a><a href="https://exactpro.com/" class="mb-4" data-v-28b3144a><img src="/assets/img/logo_white.118f94fb.svg" style="width:max(200px, 100%);" data-v-28b3144a></a><div class="text-center" data-v-28b3144a>
          Build Software to Test Software
        </div></div><div class="d-flex flex-column px-8 py-4 pa-sm-0 pa-xs-0" data-v-28b3144a><h2 data-v-28b3144a>Contact Us</h2><div class="highliter my-3" data-v-28b3144a></div><div class="d-flex align-center contact" data-v-28b3144a><a href="mailto:docops@exactpro.com" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default" data-v-28b3144a><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-email theme--dark" data-v-28b3144a></i></span></a><a href="mailto:docops@exactpro.com" class="contact__text" data-v-28b3144a>
            docops@exactpro.com
          </a></div><div class="d-flex align-center contact" data-v-28b3144a><a href="mailto:info@exactpro.com" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default" data-v-28b3144a><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-email theme--dark" data-v-28b3144a></i></span></a><a href="mailto:info@exactpro.com" class="contact__text" data-v-28b3144a>
            info@exactpro.com
          </a></div><div class="d-flex align-center contact" data-v-28b3144a><a href="tel:+4402033191644" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default" data-v-28b3144a><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-phone theme--dark" data-v-28b3144a></i></span></a><a href="tel:+4402033191644" class="contact__text" data-v-28b3144a>
            +44 (0) 20 3319 1644
          </a></div><div class="d-flex align-center contact" data-v-28b3144a><a href="tel:+16463403000" class="v-btn v-btn--icon v-btn--round theme--dark v-size--default" data-v-28b3144a><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-phone theme--dark" data-v-28b3144a></i></span></a><a href="tel:+16463403000" class="contact__text" data-v-28b3144a>
            +1 (646) 340 3000
          </a></div></div><div class="d-flex flex-column px-8 py-4 pa-sm-0 pa-xs-0" data-v-28b3144a><h2 data-v-28b3144a>Follow Us</h2><div class="highliter my-3" data-v-28b3144a></div><div class="d-flex" data-v-28b3144a><a href="https://github.com/th2-net" target="_blank" class="mr-2 v-btn v-btn--icon v-btn--round v-btn--tile theme--dark v-size--large" data-v-28b3144a><span class="v-btn__content"><div class="v-image v-responsive theme--dark" data-v-28b3144a><div class="v-image__image v-image__image--preload v-image__image--cover" style="background-image:;background-position:center center;"></div><div class="v-responsive__content"></div></div></span></a><a href="https://www.facebook.com/exactpro/" target="_blank" class="mr-2 v-btn v-btn--icon v-btn--round v-btn--tile theme--dark v-size--large" data-v-28b3144a><span class="v-btn__content"><div class="v-image v-responsive theme--dark" data-v-28b3144a><div class="v-image__image v-image__image--preload v-image__image--cover" style="background-image:;background-position:center center;"></div><div class="v-responsive__content"></div></div></span></a><a href="https://twitter.com/exactpro" target="_blank" class="mr-2 v-btn v-btn--icon v-btn--round v-btn--tile theme--dark v-size--large" data-v-28b3144a><span class="v-btn__content"><div class="v-image v-responsive theme--dark" data-v-28b3144a><div class="v-image__image v-image__image--preload v-image__image--cover" style="background-image:;background-position:center center;"></div><div class="v-responsive__content"></div></div></span></a><a href="https://www.linkedin.com/company/exactpro-systems-llc?trk=biz-companies-cym" target="_blank" class="mr-2 v-btn v-btn--icon v-btn--round v-btn--tile theme--dark v-size--large" data-v-28b3144a><span class="v-btn__content"><div class="v-image v-responsive theme--dark" data-v-28b3144a><div class="v-image__image v-image__image--preload v-image__image--cover" style="background-image:;background-position:center center;"></div><div class="v-responsive__content"></div></div></span></a><a href="https://www.youtube.com/c/exactprosystems" target="_blank" class="mr-2 v-btn v-btn--icon v-btn--round v-btn--tile theme--dark v-size--large" data-v-28b3144a><span class="v-btn__content"><div class="v-image v-responsive theme--dark" data-v-28b3144a><div class="v-image__image v-image__image--preload v-image__image--cover" style="background-image:;background-position:center center;"></div><div class="v-responsive__content"></div></div></span></a></div></div></div><hr role="separator" aria-orientation="horizontal" class="my-12 v-divider theme--dark" data-v-28b3144a><div class="text-center text-caption" data-v-28b3144a>
      Copyright © 2009 - 2022 Exactpro. All Rights Reserved. Exactpro refers to Exactpro Systems Limited, registered in England and Wales, and/or one of its subsidiaries, each of which is a separate legal entity, registered in the relevant jurisdictions.
    </div><div class="text-center text-caption policies" data-v-28b3144a><a href="https://exactpro.com/terms-and-conditions" target="blank" class="mx-1" data-v-28b3144a>
         Terms and Conditions
      </a><a href="https://exactpro.com/privacy-policy" target="blank" class="mx-1" data-v-28b3144a>
         Privacy policy
      </a><a href="https://exactpro.com/cookies-policy" target="blank" class="mx-1" data-v-28b3144a>
         Cookies policy
      </a></div></div></footer></div></div></div>
    <script>window.__INITIAL_STATE__={"data":{"doc":{"title":"th2-codec","inner_title":"","description":"","content":" \n\n# th2-codec\n\n## Overview \n\nThe **codec** is a component responsible for transforming \u003Cterm term='message'\u003Emessages\u003C\u002Fterm\u003E from human-readable format into a format of a corresponding protocol and vice versa. \nIt contains the main logic for encoding and decoding messages. \nThe **codec** usually uses \u003Cterm term='dictionary'\u003Edictionary\u003C\u002Fterm\u003E to decode and encode messages. \nDictionaries contain message structures, fields and values that **codec** can decode. \n\n### Encoding\nDuring encoding, **codec** replaces each parsed message of the supported protocols in a message group with a raw one, by encoding parsed message content.\n\nNOTE: **codec** can merge content of subsequent raw messages into a resulting raw message (e.g. when a **codec** encodes only a transport layer and its payload is already encoded).\n\n\n### Decoding\nDuring decoding **codec** must replace each raw message in a message group with a parsed one by decoding raw message content. \nIf an exception was thrown, all raw messages will be replaced with `th2-codec-error` parsed messages.\n\nNOTE: **codec** can replace a raw message with a parsed message followed by several raw messages (e.g. when a **codec** decodes only a transport layer it can produce a parsed message for the transport layer and several raw messages for its payload).\n\nThe schema below describes encoding\u002Fdecoding processes. \n\n![](.\u002Fcodec_inside_processes.png)\n\n- `raw` - \u003Cterm term='pin'\u003Epin\u003C\u002Fterm\u003E configuration item, message passing through this pin for processing is in a machine-readable format, ready to be sent or received via according protocol or being decoded.\n\n- `parsed` - pin configuration item, message passing through this pin for processing is in a human-readable format, used in th2.\n\n- `encode` - pin configuration item, message passing through this pin will be translated from parsed to raw.\n\n- `decode` - pin configuration item, message passing through this pin will be translated from raw to parsed.\n\n\nExample of a raw message (FIX protocol):\n```\n8=FIXT.1.19=6835=034=159049=fix-client156=fix-server152=20220608-13:14:37.58110=043\n```\n\nExample of a parsed message (FIX protocol):\n\n```json\n{\n  \"metadata\": {\n    \"id\": {\n      \"connectionId\": {\n        \"sessionAlias\": \"fix-server1\"\n      },\n      \"sequence\": \"1653493560372614018\",\n      \"subsequence\": [\n        1\n      ]\n    },\n    \"timestamp\": \"2022-06-08T13:14:37.582Z\",\n    \"messageType\": \"Heartbeat\",\n    \"protocol\": \"FIX\"\n  },\n  \"fields\": {\n    \"trailer\": {\n      \"messageValue\": {\n        \"fields\": {\n          \"CheckSum\": {\n            \"simpleValue\": \"043\"\n          }\n        }\n      }\n    },\n    \"header\": {\n      \"messageValue\": {\n        \"fields\": {\n          \"BeginString\": {\n            \"simpleValue\": \"FIXT.1.1\"\n          },\n          \"SenderCompID\": {\n            \"simpleValue\": \"fix-client1\"\n          },\n          \"SendingTime\": {\n            \"simpleValue\": \"2022-06-08T13:14:37.581\"\n          },\n          \"TargetCompID\": {\n            \"simpleValue\": \"fix-server1\"\n          },\n          \"MsgType\": {\n            \"simpleValue\": \"0\"\n          },\n          \"MsgSeqNum\": {\n            \"simpleValue\": \"1590\"\n          },\n          \"BodyLength\": {\n            \"simpleValue\": \"68\"\n          }\n        }\n      }\n    }\n  }\n}\n```\n\n## Family \n\nThere are 3 types of **codec**-related repositories.\n\n- \u003Cterm term='box'\u003EBox\u003C\u002Fterm\u003E - use it to translate messages from raw to parsed and back (the name of repository contains the protocol which is used).\n\n- Library - use it to build your own **codec** component.\n\n- Build script collection - use it to translate messages from raw to parsed (and back) with re-using of Sailfish code (see protocols in Readme files of the repository). SEE ALSO: [Sailfish](https:\u002F\u002Fexactpro.com\u002Ftest-tools\u002Fsailfish).\n\n### Box repositories list:\n\n|Box repositories|Type|Comments|\n|---|---|---|\n|[th2-net\u002Fth2-codec-grpc](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-grpc)|Box (WIP)|`codec` for gRPC protocol|\n|[th2-net\u002Fth2-codec-qfj](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-qfj)|Box (WIP)|\n|[th2-net\u002Fth2-codec-open-api](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-open-api)|Box|\n|[th2-net\u002Fth2-codec-xml-via-xsd](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-xml-via-xsd)|Box|\n|[th2-net\u002Fth2-conn-http-ws-client-template](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-conn-http-ws-client-template)|Box|\n|[th2-net\u002Fth2-codec-moldudp64](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-moldudp64)|Box(WIP)|\n|[th2-net\u002Fth2-codec-xml](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-xml)|Box|\n|[th2-net\u002Fth2-codec-json](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-json)|Box|\n|[th2-net\u002Fth2-codec-http](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-http)|Box|\n|[th2-net\u002Fth2-codec-html](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-html)|Box|\n|[th2-net\u002Fth2-codec-hand](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-hand)|Box|\n|[th2-net\u002Fth2-codec-hand-html](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-hand-html)|Box|\n|[th2-net\u002Fth2-codec-csv](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-csv)|Box|\n|[th2-net\u002Fth2-codec-fix-orchestra](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-fix-orchestra)|Box|\n\n### Library repositories:\n\n- [th2-net\u002Fth2-codec](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec) — a common **codec** library with basic functionalities of subscribing\u002Fpublishing to message queues and loading **codec** settings; all **codecs** written specifically for th2 are based on this library.\n\n- [th2-net\u002Fth2-grpc-codec](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-grpc-codec) - library containing gRPC interface for **th2-codec** library. This interface can be used to encode\u002Fdecode messages via RPC call. \n\n- [th2-net\u002Fth2-codec-sailfish](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-sailfish) - all **codecs** that use Sailfish as a library are based on this library.\n \n### Build script collection:\n\n[th2-net\u002Fth2-codec-generic](https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec-generic) - a repository that builds FAST, FIX, ITCH, NTG, and SOUP **codecs** using their Sailfish implementation and `th2-codec-sailsfish` as a base.\n\nYou can use a link to a docker image of needed **codec** from its GitHub repository to deploy it using **th2-infra**.\n\n## Functions:\n\nThe **codec** component handles message flows between components such as **conn**, **act**, **check1**, **read** and other. \nOn the scheme below you can see an example of interaction with other th2 components.\n\n![](.\u002Fcodec_interaction_with_other_components.png)\n\nThe **codec** component has eight pins - four for the stream, and four general ones. \nFunctionality of the stream and the general pins is the same. \nA common system setup uses two data flows: 1) to and from the system, and 2) to and from data provider. \nMessages from these flows cannot be mixed. \nOne way to avoid this intersection is to use two instances of a component with four pins. \nAnother option is to configure eight pins – this allows the user to decrease the amount of required settings in **infra-schema** as well as resource utilization of the resulting system. \nGeneral pins are used by the data-provider component, other components are usually connected to the stream pins.\n\n### Why do we need a chain of codecs?\n\nIt is a very common case when the messages you send or receive from the system have the following structure: a transport layer protocol and a payload wrapped into the transport layer. \nThe payload can be any other protocol (even another transport protocol and a different payload wrapped into it). \nAlso, sometimes different systems use the same transport protocol but with the different payload wrapped into it (e.g. HTTP + JSON, HTTP + FIX).\n\nIn case you need to encode\u002Fdecode a message but do not have a single **codec** for such case, you can reuse already implemented **codecs** by joining them into a chain of **codecs**. It is also recommended for the **codec** to work only with a single protocol.  \nFor example, you have HTTP, JSON and XML **codec**. \nYou can join them together for decoding XML over HTTP or JSON over HTTP.\n\nIf the **codec** component gets a message that does not match an expected format (a raw message of corresponding protocol to `in_codec_decode` pin and a parsed message to `in_codec_encode` pin) it will be sent through the corresponding out pins without changes.\n\n\n## Configuration:  \n\n### Configuration parameters\n\nConfig file includes the following parameters:\n\n- `apiVersion` - API Kubernetes version used to create an object, the only available value - `th2.exactpro.com\u002Fv1`.\n\n- `kind`- kind of the created object, possible values - `Th2Box`, `Th2CoreBox`, `Th2Estore`, `Th2Mstore`, `Th2Dictionary`.\n\n- `metadata` (name, UID and optional field namespace) - should be equal to the file name without extension.\n\n- `spec` - required object configuration. This seciton contains `image-name` and `image-version` (including versions), `type`, `custom-config` (component-specific set of parameters), `pins` (to communicate with other boxes).\n\n- `extended-settings: service` - here we specify whether the object is available for other components, envVariables (environment variables for pod deployment), resources (amount of resources available for a Pod), etc. \n\nThe **codec** settings can be specified in `codecSettings` field of `custom-config`. \n\nFor example:\n\n```yaml\napiVersion: th2.exactpro.com\u002Fv1\nkind: Th2Box\nmetadata:\n  name: codec\nspec:\n  custom-config:\n    codecSettings:\n      messageTypeDetection: BY_INNER_FIELD\n      messageTypeField: \"messageType\"\n      rejectUnexpectedFields: true\n      treatSimpleValuesAsStrings: false\n```\n\n### Required pins and links\nThe **codec** has four types of pins: stream encode, stream decode, general encode, general decode.\n\n- _stream encode \u002F decode_ pins are used for all testing activities performed with th2; **act**, **conn**, **sim**, **recon**, **bookchecker** microservices interact with **codec** through the _stream encode \u002F decode_ pins.\n\n- _general encode \u002F decode_ pins work on demand; those pins are mainly used for the th2 report UI: in order to show messages stored in Cassandra to the end user, **report-data-viewer** requests these messages from **rpt-data-provider** via **codec**.\n\nCodec never mixes messages from the _stream_ and the _general_ pins.\n\n\u003Cnotice info\u003E\n\nSEE ALSO: [stream and general pins description](\u002F1-7\u002Finfrastructure\u002Fth2-infra-schema\u002Fpins#stream-and-general-codec-pins) \n\n\u003C\u002Fnotice\u003E\n\nPins are a part of the main th2 concept. \nThey describe what are the inputs and outputs of a box. \nYou can read more about them [here](..\u002Finfrastructure\u002Fth2-infra-schema\u002Fpins).\n\nEvery **codec** operation is associated with 2 pins - `subscribe` and `publish`. \nThe first one is used to receive messages to decode\u002Fencode, while the second one is used to send decoded\u002Fencoded messages further. \n\n**Typical codec has the following pins**: \n\n- Pin for the _stream encoding_ input: `encoder_in` `parsed` `subscribe`\n\n- Pin for the _stream encoding_ output: `encoder_out` `raw` `publish`\n\n- Pin for the _general encoding_ input: `general_encoder_in` `parsed` `subscribe`\n\n- Pin for the _general encoding_ output: `general_encoder_out` `raw` `publish`\n\n- Pin for the _stream decoding_ input: `decoder_in` `raw` `subscribe`\n\n- Pin for the _stream decoding_ output: `decoder_out` `parsed` `publish`\n\n- Pin for the _general decoding_ input: `general_decoder_in` `raw` `subscribe`\n\n- Pin for the _general decoding_ output: `general_decoder_out` `parsed` `publish`\n\n### Configuration example\n\nAPI Kubernetes documentation contains specification format for any in-built Kubernetes object. th2-specific custom resources can be found in a Readme file of the component repository.\n\n- `name` in metadata must be filled in as a box name.\n\n- `image-name` must contain a \u003Cterm term='link'\u003Elink\u003C\u002Fterm\u003E to the image of **codec** on your project (preferably the last version). For one project you can have more than one **codec** for the same protocol.\n\n- `image-version` should be filled with image tag (version of image in your project’s **codec**).\n\n- `type` specifies the type of component in th2.\n\n- `logFile` - this field is not mandatory and is only filled out in case of the user requiring log information on a very detailed level.\n\n- In `extended-settings.resources`, the `limits` value must be greater than the value of `requests`.\n\n- `service` parameter: to make this component available to other th2 boxes, set `service.enabled` to `true`.\n\nThis configuration is a general way for deploying components in th2. \nIt contains box configuration, pins' descriptions and other common parameters for a box.\n\nYou can configure a specific implementation of **codec** using the `codecSettings` section (Exception: for **codec-sailfish-...**, use `codecParameters` instead of `codecSettings`).\n\nExtended example of the **codec** configuration:\n\n```yaml\napiVersion: th2.exactpro.com\u002Fv1\nkind: Th2Box\nmetadata:\n  name: codec\nspec:\n  custom-config:\n    codecSettings:\n      parameter1: value\n      parameter2:\n        - value1\n        - value2\n  pins:\n    # encoder\n    - name: in_codec_encode\n      connection-type: mq\n      attributes: [ 'encoder_in', 'parsed', 'subscribe' ]\n    - name: out_codec_encode\n      connection-type: mq\n      attributes: [ 'encoder_out', 'raw', 'publish' ]\n    # decoder\n    - name: in_codec_decode\n      connection-type: mq\n      attributes: ['decoder_in', 'raw', 'subscribe']\n    - name: out_codec_decode\n      connection-type: mq\n      attributes: ['decoder_out', 'parsed', 'publish']\n    # encoder general (technical)\n    - name: in_codec_general_encode\n      connection-type: mq\n      attributes: ['general_encoder_in', 'parsed', 'subscribe']\n    - name: out_codec_general_encode\n      connection-type: mq\n      attributes: ['general_encoder_out', 'raw', 'publish']\n    # decoder general (technical)\n    - name: in_codec_general_decode\n      connection-type: mq\n      attributes: ['general_decoder_in', 'raw', 'subscribe']\n    - name: out_codec_general_decode\n      connection-type: mq\n      attributes: ['general_decoder_out', 'parsed', 'publish']\n```\n\n### Codec-related links\nSchema API allows configuring routing streams of the messages via links between the connections and the filters on pins. \nLet's consider some examples of routing in a **codec** box.\n\n \n#### Split on 'publish' pins\nTo split a big source data stream into different pins by session alias, consider declaring multiple pins with attributes `['decoder_out', 'parsed', 'publish']` and filters instead of a common pin or in addition to it. \nEvery decoded message will be directed to all declared pins and will be sent to MQ only if it passes the filter.\n\n```yaml\napiVersion: th2.exactpro.com\u002Fv1\nkind: Th2Box\nmetadata:\n  name: codec\nspec:\n  pins:\n    # decoder\n    - name: out_codec_decode_first_session_alias\n      connection-type: mq\n      attributes: ['decoder_out', 'parsed', 'publish']\n      filters:\n        - metadata:\n            - field-name: session_alias\n              expected-value: first_session_alias\n              operation: EQUAL\n    - name: out_codec_decode_secon_session_alias\n      connection-type: mq\n      attributes: ['decoder_out', 'parsed', 'publish']\n      filters:\n        - metadata:\n            - field-name: session_alias\n              expected-value: second_session_alias\n              operation: EQUAL\n```\n\nThe filtering can also be applied for pins with a `subscribe` attribute.\n\n### Links config\nThe main link for a typical **codec** instance is a dictionary link. \nA linked dictionary serves as a reference for validations performed by a **codec** instance. \n\n\nExample:\n\n```yaml\n##### dictionary-links.yml #####\napiVersion: th2.exactpro.com\u002Fv1\nkind: Th2Link\nmetadata:\n  name: dictionary-links\nspec:\n  dictionaries-relation:\n\n - name: codec-fix-sell-dictionary\n    box: codec-fix-sell\n    dictionary:\n      name: fix-sell\n      type: MAIN\n```\n#### Connectivity links\nFunctionally, **codec** is a regular th2 box that communicates with other boxes via pins and links. \nTo configure the connections, use a template on the [Links](..\u002F..\u002Finfrastructure\u002Fth2-infra-schema\u002Flinks#boxes-links) page.\n\n\n\n#### Report Data Provider link(-s)\nFor messages passing through **codec** to be displayed in Report UI, **codec** should be linked to **rpt-data-provider** in the following way:\n\nDedicated to desired **codec**, **rpt-data-provider** pin should be linked to `in_codec_general_decode` **codec** pin.\n\n`out_codec_general_decode` **codec** pin should be linked to **rpt-data-provider** pre-configured dedicated pin for particular **codec**.\n\n\n```yaml\n##### from-codec-links.yml #####\napiVersion: th2.exactpro.com\u002Fv1\nkind: Th2Link\nmetadata:\n  name: from-codec-links\nspec:\n  boxes-relation:\n    router-mq:\n- name: provider-to-codec-fix-sell\n      from:\n        box: rpt-data-provider\n        pin: to_codec-fix-sell\n      to:\n        box: codec-fix-sell\n        pin: in_codec_general_decode\n    - name: codec-fix-sell-to-provider\n      from:\n        box: codec-fix-sell\n        pin: out_codec_general_decode\n      to:\n        box: rpt-data-provider\n        pin: from_codec-fix-sell\n```\n\n## Useful hints \n### How to create your own codec?\n\nTo implement a **codec** using this library you need to:\n\n1. add the following repositories into `build.gradle`:\n\n```groovy\nmaven {\n    url 'https:\u002F\u002Fs01.oss.sonatype.org\u002Fcontent\u002Frepositories\u002Fsnapshots\u002F'\n}\n\nmaven {\n    url 'https:\u002F\u002Fs01.oss.sonatype.org\u002Fcontent\u002Frepositories\u002Freleases\u002F'\n}\n```\n\n2. add dependency on `com.exactpro.th2:codec:4.6.0` into `build.gradle`\n\n3. set main class to `com.exactpro.th2.codec.MainKt`\n\nThis is usually done by using Gradle application plugin where you can set the main class like this:\n\n```groovy\napplication {\n   mainClassName 'com.exactpro.th2.codec.MainKt'\n}\n```\n\n4. implement `codec` itself by implementing IPipelineCodec interface:\n\n```groovy\ninterface IPipelineCodec : AutoCloseable {\n    fun encode(messageGroup: MessageGroup): MessageGroup = TODO(\"encode(messageGroup) method is not implemented\")\n    fun encode(messageGroup: MessageGroup, context: IReportingContext): MessageGroup = encode(messageGroup)\n    fun decode(messageGroup: MessageGroup): MessageGroup = TODO(\"decode(messageGroup) method is not implemented\")\n    fun decode(messageGroup: MessageGroup, context: IReportingContext): MessageGroup = decode(messageGroup)\n    override fun close() {}\n}\n```\n\n5. implement a factory for it, using the IPipelineCodecFactory interface:\n```groovy\ninterface IPipelineCodecFactory : AutoCloseable {\n    val protocols: Set\u003CString\u003E\n    val settingsClass: Class\u003Cout IPipelineCodecSettings\u003E\n    fun init(dictionary: InputStream): Unit = TODO(\"not implemented\")\n    fun init(pipelineCodecContext: IPipelineCodecContext): Unit = pipelineCodecContext[DictionaryType.MAIN].use(::init)\n    fun create(settings: IPipelineCodecSettings? = null): IPipelineCodec\n    override fun close() {}\n}\n```\n**NOTE**: both init methods have default implementations. \nOne of them must be overridden in your factory implementation. \nIf your **codec** needs the MAIN dictionary, only you can override the `init(dictionary: InputStream)` method. \nOtherwise, you should override the `init(pipelineCodecContext: IPipelineCodecContext)` method.\n\n**IMPORTANT**: implementation should be loadable via Java's built-in service loader.\n\n6. That's it! Your **codec** is now complete.\n","fileInfo":{"path":"versions\u002F1-7\u002Fmodules\u002Fcodec\u002F_index.md"},"headings":[{"anchor":"#th2-codec","value":"th2-codec","depth":1},{"anchor":"#overview","value":"Overview","depth":2},{"anchor":"#encoding","value":"Encoding","depth":3},{"anchor":"#decoding","value":"Decoding","depth":3},{"anchor":"#family","value":"Family","depth":2},{"anchor":"#box-repositories-list","value":"Box repositories list:","depth":3},{"anchor":"#library-repositories","value":"Library repositories:","depth":3},{"anchor":"#build-script-collection","value":"Build script collection:","depth":3},{"anchor":"#functions","value":"Functions:","depth":2},{"anchor":"#why-do-we-need-a-chain-of-codecs","value":"Why do we need a chain of codecs?","depth":3},{"anchor":"#configuration","value":"Configuration:","depth":2},{"anchor":"#configuration-parameters","value":"Configuration parameters","depth":3},{"anchor":"#required-pins-and-links","value":"Required pins and links","depth":3},{"anchor":"#configuration-example","value":"Configuration example","depth":3},{"anchor":"#codec-related-links","value":"Codec-related links","depth":3},{"anchor":"#split-on-publish-pins","value":"Split on 'publish' pins","depth":4},{"anchor":"#links-config","value":"Links config","depth":3},{"anchor":"#connectivity-links","value":"Connectivity links","depth":4},{"anchor":"#report-data-provider-link-s","value":"Report Data Provider link(-s)","depth":4},{"anchor":"#useful-hints","value":"Useful hints","depth":2},{"anchor":"#how-to-create-your-own-codec","value":"How to create your own codec?","depth":3}],"read_before":[],"continue_learning":[],"terms":[{"id":"message","title":"message","content":"\u003Cp\u003Eis the unit of transferring data that goes in or out of th2, and circulates inside th2.\u003C\u002Fp\u003E\n"},{"id":"dictionary","title":"dictionary","content":"\u003Cp\u003Eis an entity which contains descriptions of application level protocol messages used in System Under Test (SUT). Dictionaries have a unified form and provide human-readable format for th2 users. \u003C\u002Fp\u003E\n"},{"id":"pin","title":"pin","content":"\u003Cp\u003Eused by a box to connect th2 microservices between each other to send\u002Freceive messages, or to execute gRPC commands.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"\u002F1-7\u002Finfrastructure\u002Fth2-infra-schema\u002Fpins\"\u003EMore\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C!--TODO: make more flexible link (avoid mentioning version straight)--\u003E\n"},{"id":"box","title":"box","content":"\u003Cp\u003Ein general, th2 box is a docker container deployed in Kubernetes as CR (Custom Resource) with the help of Helm, Helm Operator, infra-mgr and infra-operator. From the end-user (QA) standpoint it is a predefined type of th2 microservice that is serving a certain purpose in a chain of components (other microservices).\u003C\u002Fp\u003E\n"},{"id":"link","title":"link","content":"\u003Cp\u003Econnects th2 entities (dictionaries or boxes) between each other. \u003C\u002Fp\u003E\n"}],"related":[{"name":"th2-net\u002Fth2-codec","icon":"mdi-github","href":"https:\u002F\u002Fgithub.com\u002Fth2-net\u002Fth2-codec"}],"hide_releases":null,"_githubRepository":null}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.165e8820.js" defer></script><script src="/assets/js/page--src--templates--documentation-vue.86417b59.js" defer></script><script src="/assets/js/vue-remark--content--docs--versions--1-7--modules--codec--index-md.df0691d2.js" defer></script>
  </body>
</html>
