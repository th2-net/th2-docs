{"hash":"969f6de0fbfd3eed3f77be7d38b6749a86b12c99","data":{"doc":{"title":"Quick th2 setup","inner_title":"","description":"Quick th2 setup\n\nThis page is about how to setup small limited Kubernetes cluster with th2 for trial purposes.","content":"\n# Quick th2 setup\n\nThis page is about how to setup small limited Kubernetes cluster with th2 for trial purposes.\n\n<!--more-->\n\nIn this case fundamental system for th2 will be run in Docker containers. It is easier to configure and control. \n\n\n<notice note>\n\nWe would not recommend this approach for production systems. But you still can use it for demo purposes.\n\n</notice>\n\n## Kubernetes cluster\n\n### Install minikube\n\nMinikube runs a Kubernetes cluster inside a container. \nIt is easier to configure than a common Kubernetes cluster, but it cannot be expanded to several nodes. \nSee the instructions for installation [here](https://minikube.sigs.k8s.io/docs/start/).\n\n### Run cluster\n\nThe th2 modules will run on the Kubernetes [cluster](https://kubernetes.io/docs/reference/glossary/?fundamental=true#term-cluster).\n\nWith minikube it is possible to specify a version of a Kubernetes cluster before running it.\n\n```shell\nminikube start --kubernetes-version v1.19.14\n```\n\n## Cassandra cluster\n\nDownload and run Docker container with Cassandra:\n\n```shell\ndocker run --name th2-storage \\\n  -p \"0.0.0.0:9042:9042\" \\\n  -v \"$HOME/cassandra:/var/lib/cassandra\" \\\n  -d \"bitnami/cassandra:latest\"\n```\n\n\n## th2-infra-schema\n\nth2-infra-schema deployment is the same as in full-fledged th2 version:\n\n<recommendations :items=\"$frontmatter.schema_links\"></recommendations>\n\n## Deploy th2\n\nth2 installation into Kubernetes cluster is very similar to standard instructions, but there are some differences.\n\n<recommendations :items=\"$frontmatter.install_links\"></recommendations>\n\n1. Whenever you want to create folders for PersistentVolume and PersistentVolumeClaim, do it via `minikube ssh`.\n2. When you define Cassandra hostname in `service.values.yaml`, set it as `host.minikube.internal` for Cassandra on localhost.\n","fileInfo":{"path":"versions/1-7/cookbook/quick-setup.md"},"headings":[{"anchor":"#quick-th2-setup","value":"Quick th2 setup","depth":1},{"anchor":"#kubernetes-cluster","value":"Kubernetes cluster","depth":2},{"anchor":"#install-minikube","value":"Install minikube","depth":3},{"anchor":"#run-cluster","value":"Run cluster","depth":3},{"anchor":"#cassandra-cluster","value":"Cassandra cluster","depth":2},{"anchor":"#th2-infra-schema","value":"th2-infra-schema","depth":2},{"anchor":"#deploy-th2","value":"Deploy th2","depth":2}],"read_before":[],"continue_learning":[],"terms":[],"related":[],"hide_releases":null,"_githubRepository":null},"readmeDoc":null},"context":{}}