{"hash":"2c39d0f6c4e74e25e9cd96bd966a35a86b99cf6b","data":{"doc":{"__typename":"ModulePage","title":"Overview","description":"","content":"\n# Overview\n\n**estore** is one of the core components in the th2 environment. \nIt is responsible for storing events into <term term=\"Cradle\">Cradle</term>. \nSending events to **estore** from other components is possible via special methods from the <term term=\"th2-common\">th2-common</term> library.\n\n## Functionality\n\n### Events\n\nEvent is a fundamental unit of data stored and processed by th2. \nTest execution data as well as information related to the work of all th2 components are presented via events hierarchy. \nEvery event in th2 consists of important parts:\n\n- `id` - unique identifier (in UUID format) within the th2.\n- `parentId` - optional link to a parent event.\n- `description` - set of fields for short descriptions.\n- `body` - useful data in JSON format.\n- `attachedMessageIDs` - the list of message IDs that are linked to the event.\n\n### How to send events to estore\n\nYou can create `Event` object in th2 component with `th2-common-py` library.\n\nPut primary event data to variables. Maybe you will need it in the future.\n\n```py\nroot_event_id = EventID(id=str(uuid1()))\n\nstart_timestamp = Timestamp()\nstart_timestamp.FromDatetime(datetime.now())\n```\n\nCreate `Event` object.\n\n```py\nroot_event = Event(\n   id=root_event_id,\n   parent_id=None,\n   start_timestamp=start_timestamp,\n   # end_timestamp=\"\",\n   status=EventStatus.SUCCESS,\n   name=\"Test Event\",\n   body=b\"\"\n)\n```\n\nCreate `EventBatch` object and send it using event router.\n\n```py\nevent_batch = EventBatch(parent_event_id=None, events=[root_event])\nestore.send(event_batch)\n```\n","fileInfo":{"path":"estore/overview.md"},"headings":[{"anchor":"#overview","value":"Overview","depth":1},{"anchor":"#functionality","value":"Functionality","depth":2},{"anchor":"#events","value":"Events","depth":3},{"anchor":"#how-to-send-events-to-estore","value":"How to send events to estore","depth":3}],"terms":[{"id":"Cradle","title":"Cradle","content":"<p>Cradle is a datalake where th2 stores messages and events. It is based on Cassandra database and creates th2-specific data processing.</p>\n"},{"id":"th2-common","title":"th2-common","content":"<p>Basic library for th2 components. It provides API for interaction with other components, access to the <strong>th2-box</strong> configuration, and some functionality for automatic consuming of statistics. </p>\n"}],"meta":{"contentTreeJSON":"[{\"title\":\"estore\",\"path\":\"/modules/estore/\",\"weight\":-100,\"followPath\":\"/modules/estore/overview/\",\"children\":[{\"title\":\"Overview\",\"path\":\"/modules/estore/overview/\",\"weight\":0,\"followPath\":\"/modules/estore/overview/\",\"children\":[]},{\"title\":\"Configuration\",\"path\":\"/modules/estore/config/\",\"weight\":5,\"followPath\":\"/modules/estore/config/\",\"children\":[]},{\"title\":\"Usage\",\"path\":\"/modules/estore/usage/\",\"weight\":10,\"followPath\":\"/modules/estore/usage/\",\"children\":[]}]}]","module_name":"estore","main_path":"/modules/estore/"}}},"context":{}}