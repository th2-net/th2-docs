(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{UQSp:function(e,t,o){"use strict";t.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}},cQtg:function(e,t,o){"use strict";o.r(t);var r=o("7uw+"),n=o("UQSp"),a=o("oCYn");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a.default.config.optionMergeStrategies;var s={VueRemarkRoot:n.a},d=function(e){var t=e.options.components=e.options.components||{},o=e.options.computed=e.options.computed||{};Object.keys(s).forEach((function(e){"object"===i(s[e])&&"function"==typeof s[e].render||"function"==typeof s[e]&&"function"==typeof s[e].options.render?t[e]=s[e]:o[e]=function(){return s[e]}}))},v=a.default.config.optionMergeStrategies,c="__vueRemarkFrontMatter",l={excerpt:null,weight:25,"tree-title":"estore",readme:"https://raw.githubusercontent.com/th2-net/th2-estore/master/README.md",title:"Overview (4.0.0)"};var p=function(e){e.options[c]&&(e.options[c]=l),a.default.util.defineReactive(e.options,c,l),e.options.computed=v.computed({$frontmatter:function(){return e.options[c]}},e.options.computed)},h=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("VueRemarkRoot",[o("h1",{attrs:{id:"overview-400"}},[o("a",{attrs:{href:"#overview-400","aria-hidden":"true"}},[e._v("#")]),e._v("Overview (4.0.0)")]),o("p",[e._v("Event store (estore) is an important th2 component responsible for storing events into Cradle. Please refer to "),o("a",{attrs:{href:"https://github.com/th2-net/cradleapi/blob/master/README.md",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Cradle repository")]),e._v(" for more details. This component has a pin for listening events via MQ.")]),o("p",[e._v('The infra-operator adds the special MQ pin with the "event" and "publish" attributes , to every box described via infra-schema.')]),o("p",[e._v("Event is a base entity of th2. Information related to the work of every component, the executed tests, and the problems that happened are presented as events hierarchy.\nEvery event contains important parts:")]),o("ul",[o("li",[e._v("id - unique identifier within th2")]),o("li",[e._v("parent id - optional link to parent event")]),o("li",[e._v("description - set of fields for short description")]),o("li",[e._v("body - useful data in JSON format")]),o("li",[e._v("attachedMessageIDs - the list of message IDs that are linked to the event")])]),o("h1",{attrs:{id:"custom-resources-for-infra-mgr"}},[o("a",{attrs:{href:"#custom-resources-for-infra-mgr","aria-hidden":"true"}},[e._v("#")]),e._v("Custom resources for infra-mgr")]),o("p",[e._v("Infra schema can only contain one estore box description. It consists of one required option - docker image . Pin configuration is generated and managed by infra-operator.")]),o("p",[e._v("General view of the component will look like this:")]),o("div",{staticClass:"remark-highlight"},[o("pre",{staticClass:"language-shell"},[o("code",{staticClass:"language-shell"},[e._v("yaml\napiVersion: th2.exactpro.com/v1\nkind: Th2Estore\nmetadata:\n  name: estore\nspec:\n  image-name: ghcr.io/th2-net/th2-estore\n  image-version: "),o("span",{staticClass:"token operator"},[e._v("<")]),e._v("image version"),o("span",{staticClass:"token operator"},[e._v(">")]),e._v("\n  extended-settings:\n    service:\n      enabled: "),o("span",{staticClass:"token boolean"},[e._v("false")]),e._v("\n    envVariables:\n      JAVA_TOOL_OPTIONS: "),o("span",{staticClass:"token string"},[e._v('"-XX:+ExitOnOutOfMemoryError -Ddatastax-java-driver.advanced.connection.init-query-timeout='),o("span",{staticClass:"token entity",attrs:{title:'\\"'}},[e._v('\\"')]),e._v("5000 milliseconds"),o("span",{staticClass:"token entity",attrs:{title:'\\"'}},[e._v('\\"')]),e._v('"')]),e._v("\n    resources:\n      limits:\n        memory: 500Mi\n        cpu: 200m\n      requests:\n        memory: 100Mi\n        cpu: 20m\n")])]),o("copy-code-btn")],1),o("h1",{attrs:{id:"common-features"}},[o("a",{attrs:{href:"#common-features","aria-hidden":"true"}},[e._v("#")]),e._v("Common features")]),o("p",[e._v("This is a list of supported features provided by libraries.\n1. CradleMaxEventBatchSize - this option defines the maximum event batch size in bytes.\nPlease see more details about this feature via "),o("a",{attrs:{href:"https://github.com/th2-net/th2-common-j#configuration-formats",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("link")])]),o("h1",{attrs:{id:"changes"}},[o("a",{attrs:{href:"#changes","aria-hidden":"true"}},[e._v("#")]),e._v("Changes")]),o("h2",{attrs:{id:"400"}},[o("a",{attrs:{href:"#400","aria-hidden":"true"}},[e._v("#")]),e._v("4.0.0")]),o("ul",[o("li",[e._v("Update common version from "),o("code",{pre:!0},[e._v("3.35.0")]),e._v(" to "),o("code",{pre:!0},[e._v("3.36.0")]),o("ul",[o("li",[e._v("Cradle version is updated from "),o("code",{pre:!0},[e._v("2.21.0")]),e._v(" to "),o("code",{pre:!0},[e._v("3.1.1")]),e._v("\n(please, note that the new version of Cradle is not compatible with Cradle "),o("code",{pre:!0},[e._v("2.*")]),e._v(" and requires additional schema migration if you want to keep the stored data)")]),o("li",[e._v("Messages' IDs that are attached to the event are stored along with event itself")])])])]),o("h2",{attrs:{id:"370"}},[o("a",{attrs:{href:"#370","aria-hidden":"true"}},[e._v("#")]),e._v("3.7.0")]),o("ul",[o("li",[e._v("Update common version from "),o("code",{pre:!0},[e._v("3.31.6")]),e._v(" to "),o("code",{pre:!0},[e._v("3.35.0")])]),o("li",[e._v("Update Cradle version from "),o("code",{pre:!0},[e._v("2.20.2")]),e._v(" to "),o("code",{pre:!0},[e._v("2.21.0")])])]),o("h2",{attrs:{id:"360"}},[o("a",{attrs:{href:"#360","aria-hidden":"true"}},[e._v("#")]),e._v("3.6.0")]),o("ul",[o("li",[e._v("Update common version from "),o("code",{pre:!0},[e._v("3.30.0")]),e._v(" to "),o("code",{pre:!0},[e._v("3.31.6")])]),o("li",[e._v("Update Cradle version from "),o("code",{pre:!0},[e._v("2.20.0")]),e._v(" to "),o("code",{pre:!0},[e._v("2.20.2")])])]),o("h2",{attrs:{id:"351"}},[o("a",{attrs:{href:"#351","aria-hidden":"true"}},[e._v("#")]),e._v("3.5.1")]),o("ul",[o("li",[e._v("Added util methods from store-common")]),o("li",[e._v("Removed dependency to store-common ")])]),o("h2",{attrs:{id:"350"}},[o("a",{attrs:{href:"#350","aria-hidden":"true"}},[e._v("#")]),e._v("3.5.0")]),o("ul",[o("li",[e._v("Update common version from "),o("code",{pre:!0},[e._v("3.18.0")]),e._v(" to "),o("code",{pre:!0},[e._v("3.29.0")])]),o("li",[e._v("Update store-common version from "),o("code",{pre:!0},[e._v("3.1.0")]),e._v(" to "),o("code",{pre:!0},[e._v("3.2.0")])])]),o("h2",{attrs:{id:"340"}},[o("a",{attrs:{href:"#340","aria-hidden":"true"}},[e._v("#")]),e._v("3.4.0")]),o("h3",{attrs:{id:"changed"}},[o("a",{attrs:{href:"#changed","aria-hidden":"true"}},[e._v("#")]),e._v("Changed:")]),o("ul",[o("li",[e._v("Disable waiting for connection recovery when closing the "),o("code",{pre:!0},[e._v("SubscribeMonitor")])]),o("li",[e._v("Update Cradle version from "),o("code",{pre:!0},[e._v("2.9.1")]),e._v(" to "),o("code",{pre:!0},[e._v("2.13.0")])]),o("li",[e._v("Rework logging for incoming and outgoing messages")]),o("li",[e._v("Resets embedded log4j configuration before configuring it from a file")])]),o("h2",{attrs:{id:"320"}},[o("a",{attrs:{href:"#320","aria-hidden":"true"}},[e._v("#")]),e._v("3.2.0")]),o("ul",[o("li",[e._v("Compressed metadata for events")])]),o("h2",{attrs:{id:"310"}},[o("a",{attrs:{href:"#310","aria-hidden":"true"}},[e._v("#")]),e._v("3.1.0")]),o("ul",[o("li",[e._v("Use async methods for storing events to the Cradle")])])])}),[],!1,null,null,null);"function"==typeof d&&d(h),"function"==typeof p&&p(h);t.default=h.exports}}]);